<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sins of a Programmer: MVC - Dykyi Roman</title>
    <link rel="icon" href="../icon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="../resources/style.css">
    <link rel="stylesheet" href="../resources/navigation.css">
    <link rel="stylesheet" href="../resources/article-style.css">
</head>
<body>
<div class="container">
    <!-- Include header from external file -->
    <div id="header-container"></div>

    <!-- Article Content -->
    <div class="article-container">
        <div class="article-header">
            <h1 class="article-title">Sins of a Programmer: MVC</h1>
            <div class="article-meta">24 min read | Jul 01, 2025</div>
            <img src="img/11.png" alt="Sins of a Programmer: MVC" class="article-featured-img">
        </div>

        <div class="article-content">
            <article>
                <div class="m">
                    <div class="m"><span
                            style="display: block; position: absolute; left: 558.023px; top: 9839.58px; height: 25px; width: 0px;"><span
                            class="m ea" aria-hidden="true"></span></span>
                        <section>
                            <div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <blockquote class="mb mc md"><p id="7bd5"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">This article is
                                                written for programming beginners who are just starting to explore code
                                                architecture and design patterns. If you‚Äôre already an experienced
                                                developer (senior+), these ideas will likely seem obvious to you ‚Äî feel
                                                free to skip or read for a nostalgic trip down memory lane of your first
                                                architectural mistakes.)</p></blockquote>
                                            <p id="da82"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">But if you‚Äôre just learning and have heard
                                                that MVC is the ‚Äústandard‚Äù you ‚Äúmust always use,‚Äù you might find it
                                                useful to learn why that‚Äôs not the case, and what pitfalls this pattern
                                                hides. Let‚Äôs go! üöÄ</p>
                                            <blockquote class="mb mc md"><p id="ee79"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">üí° Heads up!
                                                Before diving into this article, please note that all examples and
                                                explanations are based on interpreting MVC with a Passive Model, where
                                                ‚ÄúM‚Äù (Model) represents a data provider ‚Äî not the business logic layer.
                                                This approach is chosen to demonstrate core principles but doesn‚Äôt
                                                exclude other implementations.</p>
                                                <p id="2cde"
                                                   class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                   data-selectable-paragraph=""><strong class="mh fw">Active
                                                    Model</strong></p>
                                                <p id="1e37"
                                                   class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                   data-selectable-paragraph="">An Active Model isn‚Äôt just a data access
                                                    layer. It‚Äôs the core hub of all business logic. Models encapsulate
                                                    not only data but also behavior, and may include other models ‚Äî
                                                    forming a rich, expressive domain layer.</p>
                                                <p id="70d3"
                                                   class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                   data-selectable-paragraph=""><strong class="mh fw">Passive
                                                    Model</strong></p>
                                                <p id="54a8"
                                                   class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                   data-selectable-paragraph="">A Passive Model acts purely as a set of
                                                    data-access functions, essentially serving as a thin wrapper around
                                                    a database.</p>
                                                <p id="d425"
                                                   class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                   data-selectable-paragraph="">A discussion of the ‚ÄúM‚Äù as the business
                                                    logic layer will be covered in a dedicated section at the end of the
                                                    article.</p></blockquote>
                                        </div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="58f7"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">Why is MVC
                                            (passive model) still alive in 2025?</h1>
                                            <p id="f1ed"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph="">Universities and courses keep teaching MVC
                                                as the ‚Äúbest practice,‚Äù churning out generations of developers who
                                                remain oblivious to <a class="ag og"
                                                                       href="https://refactoring.guru/ru/design-patterns"
                                                                       rel="noopener ugc nofollow" target="_blank">design
                                                    patterns</a>, <a class="ag og"
                                                                     href="https://github.com/dykyi-roman/architecture"
                                                                     rel="noopener ugc nofollow" target="_blank">DRY,
                                                    KISS, SOLID principles, Clean Architecture, CQRS, DDD</a>, or
                                                Event-Driven approaches. It‚Äôs a vicious cycle: poorly trained developers
                                                build poorly designed MVC projects. But MVC only seems simple at first
                                                glance. Juniors eagerly cram all their logic into controllers, create
                                                2000-line ‚Äúgod‚Äù models, and think they‚Äôre doing it right. By the time
                                                they realize the problem, the project has already become unmaintainable
                                                legacy code.</p>
                                            <p id="fc84"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">Despite its obvious flaws and the rise of
                                                far more effective architectural solutions, MVC continues to poison
                                                codebases worldwide. The reason for this tragedy lies not in the
                                                pattern‚Äôs merits, but in the skill level of the teams maintaining it.
                                                Thousands of MVC projects have turned into untouchable monsters. A
                                                single change in one controller can break half the system due to tight
                                                coupling. Companies would rather bleed out slowly, maintaining this
                                                technical debt, than face the painful but necessary decision to
                                                refactor.</p>
                                            <blockquote class="mb mc md"><p id="e2ac"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">On such
                                                projects, you can often hear: ‚ÄúIf it works, better not to touch it.‚Äù</p>
                                            </blockquote>
                                            <p id="40a2"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">Just because poorly written code ‚Äúsomehow
                                                works‚Äù doesn‚Äôt mean it should stay unchanged. The worse the code, the
                                                longer and more expensive it becomes to modify. Code that ‚Äúworks but is
                                                messy‚Äù can fail at any moment due to hidden vulnerabilities. It‚Äôs hard
                                                to extend ‚Äî new features will break old ones, it typically doesn‚Äôt
                                                scale, and it‚Äôs difficult (or practically impossible) to cover with
                                                tests.</p>
                                            <p id="f028"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">The grim reality is this: every day we keep
                                                using MVC, we accumulate technical debt that will eventually come due.
                                                And the longer we delay adopting modern architectural solutions, the
                                                more costly the transition will be.</p></div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="4702"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">Main problems of
                                            MVC (passive model)</h1>
                                            <p id="fc4a"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><a class="ag og"
                                                                               href="https://stackoverflow.blog/2023/05/17/keep-em-separated-get-better-maintainability-in-web-projects-using-the-model-view-controller-pattern/"
                                                                               rel="noopener ugc nofollow"
                                                                               target="_blank">MVC
                                                (Model‚ÄìView‚ÄìController)</a> is an architectural pattern proposed by
                                                Trygve Reenskaug in the late 1970s, which divides code into three parts:
                                                the model (data and business logic), the view (UI), and the controller
                                                (request handler). Due to its simplicity and clarity, MVC (or MVP in web
                                                development) has become the de facto standard in web development: it
                                                simplifies understanding the application and distributes responsibility
                                                for different types of work. However, its simplicity is deceptive: as a
                                                project grows, even such a pattern creates ‚Äútechnical debt.‚Äù</p>
                                            <p id="156d"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">In small applications, MVC works perfectly,
                                                but as the system grows, its layers begin to blur. As the system
                                                expands, gains new features, complex business logic, and numerous
                                                integrations, the once-clear boundaries of MVC start to fade. What
                                                seemed like an ideal separation gradually turns into ‚Äúfat‚Äù controllers
                                                stuffed with business logic or ‚Äúbloated‚Äù models containing both domain
                                                rules and persistence details. The layers begin to mix, turning an
                                                elegant structure into a tangled mess of dependencies.</p>
                                            <p id="bea5"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">This is when we encounter a fundamental
                                                problem: MVC, originally designed for relatively simple interactive user
                                                interfaces, proves insufficiently expressive and resilient to changes in
                                                high-load, domain-driven enterprise systems. Maintaining clean layers
                                                becomes a heroic but often futile struggle, leading to reduced
                                                maintainability, increased testing complexity, and slower further
                                                development.</p>
                                            <p id="f0f5"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">Using MVC alone is insufficient for building
                                                flexible and scalable applications. It becomes an obstacle to achieving
                                                a scalable and robust architecture, which is why mature applications
                                                require stricter and more specialized approaches to code
                                                organization.</p>
                                            <p id="718d"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">‚ùå Performance as a Sacrifice to Architecture
                                                <br>MVC systems are inherently slower. Controllers drag along massive
                                                dependencies, models execute dozens of unnecessary database queries, and
                                                tight coupling prevents efficient component caching. Every HTTP request
                                                initializes half the system, even when returning a simple JSON with a
                                                single field.</p>
                                            <p id="512e"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">‚ùå Scaling ‚Äî A Painful Problem <br>When a
                                                project grows, MVC turns into a nightmare. Individual components can‚Äôt
                                                be scaled ‚Äî you have to duplicate the entire system. Horizontal scaling
                                                requires session synchronization, shared file systems, and other
                                                workarounds. Microservices become impossible because everything is
                                                tightly interconnected.</p>
                                            <p id="1a1c"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">‚ùå Bugs as an Inevitability <br>Try writing a
                                                unit test for a controller that accesses three models, sends an email,
                                                logs to a file, and redirects the user. It‚Äôs impossible without
                                                bootstrapping the entire system. Integration tests require a full
                                                database, a web server, and all dependencies. The result? Projects with
                                                5‚Äì10% test coverage, where every release is a game of Russian roulette.
                                            </p>
                                            <p id="b8df"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">Without proper testing, bugs become a
                                                constant companion in MVC projects. Changing one model breaks a
                                                controller in another part of the system. Refactoring turns into a game
                                                of ‚ÄúMinesweeper‚Äù ‚Äî you never know what will blow up. Teams spend 60‚Äì70%
                                                of their time fixing bugs instead of developing new features.</p>
                                            <p id="64b4"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">‚ùå ‚ÄúFat Controllers‚Äù <br>This is perhaps one
                                                of the most common ‚Äúdiseases‚Äù of MVC in large projects. Initially,
                                                controllers were meant to be mere mediators between models and views,
                                                handling user input and coordinating actions. But in practice, under the
                                                pressure of rapid iterations and the lack of a better place, business
                                                logic starts migrating directly into controller methods.</p>
                                            <p id="2dfa"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Why is this
                                                bad?</strong></p>
                                            <ul class="">
                                                <li id="2195"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Violation of the
                                                    Single Responsibility Principle (SRP)</strong><br>A controller
                                                    should only handle HTTP requests and coordinate between models and
                                                    views. But when it takes on business logic, validation, database
                                                    interactions, and other responsibilities, it becomes overloaded and
                                                    violates SRP.
                                                </li>
                                                <li id="2a41"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Testing
                                                    Complexity</strong><br>‚ÄúFat‚Äù controllers are hard to test in
                                                    isolation due to excessive dependencies. Tests become fragile, slow,
                                                    and often require mocking half the system just to verify a single
                                                    method.
                                                </li>
                                                <li id="fa17"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Poor Readability
                                                    &amp; Maintainability</strong> <br>Controllers bloated with hundreds
                                                    (or thousands) of lines of code turn into unreadable spaghetti.
                                                    Understanding a single method requires tracing through nested
                                                    conditionals, side effects, and scattered logic.
                                                </li>
                                                <li id="ec81"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">High
                                                    Coupling</strong> <br>A fat controller typically depends on numerous
                                                    components (models, services, repositories, helpers). Changing one
                                                    dependency can trigger cascading changes in the controller, making
                                                    the system rigid and error-prone.
                                                </li>
                                                <li id="9c3d"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Scaling &amp;
                                                    Evolution Challenges</strong> <br>- Risky modifications ‚Äî Changing a
                                                    fat controller is dangerous due to hidden dependencies and tangled
                                                    logic. <br>- Slowed development ‚Äî Adding features requires wading
                                                    through unrelated code, increasing cognitive load, and slowing
                                                    progress. <br>- Architectural erosion ‚Äî When controllers directly
                                                    handle business logic or infrastructure details (e.g., raw SQL),
                                                    they blur the boundaries between <strong
                                                            class="mh fw">Presentation</strong>, <strong class="mh fw">Application</strong>,
                                                    <strong class="mh fw">Domain</strong>, and <strong class="mh fw">Infrastructure</strong>
                                                    layers.
                                                </li>
                                            </ul>
                                            <p id="5bd0"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">‚ùå Missing a Business
                                                Logic Layer</strong> <br>Classic MVC does not provide a clear and
                                                self-contained layer for complex, pure business logic. In MVC, the
                                                ‚ÄúModel‚Äù is often treated as an ORM object or ActiveRecord, responsible
                                                for both data and some business rules, tightly coupling them with
                                                persistence details (database operations). Meanwhile, as mentioned
                                                earlier, controllers become dumping grounds for everything else. This
                                                results in the most critical business rules of the application being
                                                ‚Äúsmeared‚Äù across different components ‚Äî partly in models, partly in
                                                controllers, and sometimes even directly in views.</p>
                                            <p id="b25b"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Why is this
                                                bad?</strong></p>
                                            <ul class="">
                                                <li id="18d5"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Blurred and
                                                    duplicated business rules</strong> <br>Key business rules and
                                                    operations end up scattered throughout the application. This leads
                                                    to constant logic duplication, as the same rule may be implemented
                                                    differently in multiple places, increasing the risk of errors and
                                                    inconsistencies.
                                                </li>
                                                <li id="3dfd"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Difficulty
                                                    understanding the domain</strong> <br>When business logic is not
                                                    encapsulated in one place, it becomes extremely difficult to
                                                    understand how the application‚Äôs domain actually works. This
                                                    significantly slows down onboarding for new team members and
                                                    complicates making changes.
                                                </li>
                                                <li id="be97"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">No effective
                                                    testing</strong> <br>Business logic mixed with infrastructure
                                                    details (such as HTTP requests or database operations) is nearly
                                                    impossible to test in isolation with unit tests.
                                                </li>
                                                <li id="e8d7"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Reduced
                                                    reusability</strong> <br>Logic tied to specific frameworks,
                                                    protocols (HTTP), or persistence details (SQL queries in ORM models)
                                                    cannot be easily reused.
                                                </li>
                                                <li id="a595"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph=""><strong class="mh fw">Complicated
                                                    scaling and maintenance</strong><br>As the project grows, it becomes
                                                    increasingly difficult to maintain, add new features, and fix bugs
                                                    when there is no centralized and well-structured place for all
                                                    business logic. An architecture without a domain layer tends to turn
                                                    into a ‚ÄúBig Ball of Mud.‚Äù
                                                </li>
                                            </ul>
                                            <p id="923d"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">‚ùå Reusability
                                                Issues</strong></p>
                                            <p id="08a5"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">When business logic is tightly coupled with
                                                controllers or models bound to specific persistence technologies,
                                                reusing it becomes a major challenge.</p>
                                            <p id="cc60"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">If this logic resides in an HTTP controller
                                                or depends on web request specifics, you‚Äôll face significant obstacles
                                                when trying to reuse it for:</p>
                                            <ul class="">
                                                <li id="cf81"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">CLI commands
                                                </li>
                                                <li id="2666"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Message queue consumers
                                                </li>
                                                <li id="229e"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">API calls
                                                </li>
                                                <li id="c80d"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Background processes/scheduled jobs
                                                </li>
                                                <li id="18cc"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Mobile/desktop clients (via GraphQL or
                                                    RPC)
                                                </li>
                                            </ul>
                                            <p id="6b73"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">In each of these scenarios, the absence of a
                                                clean domain layer ‚Äî decoupled from infrastructure and presentation ‚Äî
                                                inevitably leads to code duplication. This increases error risks,
                                                complicates testing, and slows down further application development.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="8005"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">Obstacles to
                                            applying design patterns</h1>
                                            <p id="c1b9"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph="">One of the most insidious problems of MVC is
                                                how it complicates and even prevents the proper application of classical
                                                design patterns. The three-layer Model-View-Controller structure creates
                                                architectural confusion where developers get lost trying to place
                                                patterns in the right place.</p>
                                            <p id="8913"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">The pattern placement problem. Where should
                                                the Strategy pattern be placed in MVC? In the model? But the model
                                                should work with data. In the controller? But the controller should be
                                                thin. Create a separate folder? But this violates the ‚Äúpurity‚Äù of MVC.
                                                The result ‚Äî patterns either aren‚Äôt used at all, or are crammed into
                                                inappropriate places, losing their effectiveness.</p>
                                            <p id="82af"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">Degradation of patterns into antipatterns.
                                                The Observer pattern in MVC often turns into a God Object ‚Äî a model that
                                                notifies half the system about its changes. The Decorator pattern
                                                becomes impossible due to tight coupling of models with ActiveRecord.
                                                The Factory pattern degenerates into static methods inside models,
                                                violating OOP principles.</p>
                                            <p id="f4a1"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">The impossibility of applying Enterprise
                                                patterns. The Repository pattern in MVC is usually implemented as a thin
                                                wrapper over ORM, losing its meaning. The Service Layer merges with
                                                controllers or models. Unit of Work becomes impossible due to
                                                ActiveRecord‚Äôs automatic commits. Domain Model turns into an Anemic
                                                Domain Model ‚Äî models without logic, only with data.</p>
                                            <p id="d0b9"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">The problem of testing patterns. Even if a
                                                pattern somehow manages to be placed in MVC, it becomes impossible to
                                                test it in isolation. The Strategy pattern, mixed with a controller,
                                                requires spinning up the entire web stack for testing. The Command
                                                pattern in a model drags along the entire ORM.</p>
                                            <p id="8599"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">Loss of flexibility and reusability.
                                                Patterns are created to increase flexibility and code reuse. But in MVC,
                                                they lose these qualities, becoming part of a monolithic structure. You
                                                can‚Äôt extract Strategy into a separate module or reuse Command in
                                                another context.</p>
                                            <p id="c9b8"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">The result of this architectural confusion
                                                is that teams either abandon design patterns (making the code primitive)
                                                or apply them incorrectly (making the code even worse). MVC doesn‚Äôt just
                                                fail to help with best practices ‚Äî it actively hinders them, driving
                                                developers into an architectural dead end.</p></div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="100d"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">Violations of
                                            SOLID principles</h1>
                                            <p id="7571"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph="">SOLID principles serve as the cornerstone
                                                for creating flexible, extensible, and maintainable object-oriented
                                                code. MVC‚Äôs problems often lead to their violation:</p>
                                            <h2 id="d910"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">S ‚Äî Single Responsibility Principle
                                                (SRP)</h2>
                                            <p id="fffc"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>: A
                                                class should have only one reason to change.</p>
                                            <p id="4827"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation in
                                                MVC:</strong> A controller ends up with 6+ different reasons to change
                                                (handling requests, business logic, validation, etc.).</p>
                                            <p id="f485"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Benefits of
                                                compliance</strong>:<br>‚úî Easier to understand each class‚Äôs purpose<br>‚úî
                                                Changes affect only one aspect of the system<br>‚úî Simpler to write unit
                                                tests for specific functionality<br>‚úî Fewer merge conflicts in team
                                                development</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="b51e"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// 1. –í–∞–ª–∏–¥–∞—Ü–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–∞</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span class="hljs-variable">$request</span>-&gt;email) || !<span
                                                    class="hljs-title.function.invoke">filter_var</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;email, FILTER_VALIDATE_EMAIL)) {<br>            <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>([<span
                                                    class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'Invalid email'</span>], <span
                                                    class="hljs-number">400</span>);<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// 2. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-title.class">User</span>::<span
                                                    class="hljs-title.function.invoke">where</span>(<span
                                                    class="hljs-string">'email'</span>, <span class="hljs-variable">$request</span>-&gt;email)-&gt;<span
                                                    class="hljs-title.function.invoke">exists</span>()) {<br>            <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>([<span
                                                    class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'User exists'</span>], <span
                                                    class="hljs-number">409</span>);<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// 3. –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</span><br>        <span
                                                    class="hljs-variable">$user</span> = <span class="hljs-title.class">User</span>::<span
                                                    class="hljs-title.function.invoke">create</span>([<br>            <span
                                                    class="hljs-string">'email'</span> =&gt; <span
                                                    class="hljs-variable">$request</span>-&gt;email,<br>            <span
                                                    class="hljs-string">'password'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">bcrypt</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;password)<br>        ]);<br>        <br>        <span
                                                    class="hljs-comment">// 4. –û—Ç–ø—Ä–∞–≤–∫–∞ email</span><br>        <span
                                                    class="hljs-title.class">Mail</span>::<span
                                                    class="hljs-title.function.invoke">send</span>(<span
                                                    class="hljs-string">'welcome'</span>, [<span class="hljs-string">'user'</span> =&gt; <span
                                                    class="hljs-variable">$user</span>], function(<span
                                                    class="hljs-variable">$m</span>) <span
                                                    class="hljs-keyword">use</span> ($<span
                                                    class="hljs-title">user</span>) {<br>            $<span
                                                    class="hljs-title">m</span>-&gt;<span class="hljs-title">to</span>($<span
                                                    class="hljs-title">user</span>-&gt;<span
                                                    class="hljs-title">email</span>)-&gt;<span class="hljs-title">subject</span>('<span
                                                    class="hljs-title">Welcome</span>!');<br>        });<br>        <br>        <span
                                                    class="hljs-comment">// 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</span><br>        <span
                                                    class="hljs-title.class">Log</span>::<span
                                                    class="hljs-title.function.invoke">info</span>(<span
                                                    class="hljs-string">"User registered: <span class="hljs-subst">{$user-&gt;email}</span>"</span>);<br>        <br>        <span
                                                    class="hljs-comment">// 6. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞</span><br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>([<span
                                                    class="hljs-string">'user'</span> =&gt; <span class="hljs-variable">$user</span>-&gt;<span
                                                    class="hljs-title.function.invoke">toArray</span>()], <span
                                                    class="hljs-number">201</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><span class="hljs-keyword">private</span> UserService <span
                                                    class="hljs-variable">$userService</span></span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span
                                                    class="hljs-params">RegisterRequest <span class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$dto</span> = RegisterDTO::<span
                                                    class="hljs-title.function.invoke">fromRequest</span>(<span
                                                    class="hljs-variable">$request</span>);<br>        <br>        <span
                                                    class="hljs-variable">$user</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;userService-&gt;<span
                                                    class="hljs-title.function.invoke">register</span>(<span
                                                    class="hljs-variable">$dto</span>);<br>      <br>        <span
                                                    class="hljs-keyword">return</span> <span class="hljs-title.class">UserResource</span>::<span
                                                    class="hljs-title.function.invoke">make</span>(<span
                                                    class="hljs-variable">$user</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserService</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span
                                                    class="hljs-params">RegisterDTO <span
                                                    class="hljs-variable">$dto</span></span>): <span class="hljs-title">User</span> </span>{<br>        <span
                                                    class="hljs-comment">// only business logic here</span><br>    }<br>}</span></pre>
                                            <h2 id="edbd"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">O ‚Äî Open/Closed Principle (OCP)</h2>
                                            <p id="798e"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Classes should be open for extension but closed for modification.</p>
                                            <p id="3f1c"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                            </p>
                                            <ul class="">
                                                <li id="957d"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Adding a new payment method requires
                                                    modifying the controller (instead of extending behavior).
                                                </li>
                                                <li id="0b13"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">New functionality forces changes to
                                                    existing controllers, violating OCP.
                                                </li>
                                            </ul>
                                            <p id="b890"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Benefits of
                                                compliance:</strong><br>‚úî New features can be added without altering
                                                existing code (via interfaces, inheritance, or composition).<br>‚úî
                                                Reduced risk of bugs in already-working code.<br>‚úî More flexible and
                                                scalable system (adaptable to new requirements).<br>‚úî Easier backward
                                                compatibility (core logic remains untouched).</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="1281"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">PaymentController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$paymentType</span> = <span
                                                    class="hljs-variable">$request</span>-&gt;payment_type;<br>        <br>        <span
                                                    class="hljs-keyword">if</span> (<span class="hljs-variable">$paymentType</span> === <span
                                                    class="hljs-string">'credit_card'</span>) {<br>            <span
                                                    class="hljs-variable">$gateway</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">CreditCardGateway</span>();<br>            <span
                                                    class="hljs-variable">$result</span> = <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">charge</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;amount, <span
                                                    class="hljs-variable">$request</span>-&gt;card_data);<br>        } <span
                                                    class="hljs-keyword">elseif</span> (<span class="hljs-variable">$paymentType</span> === <span
                                                    class="hljs-string">'paypal'</span>) {<br>            <span
                                                    class="hljs-variable">$gateway</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">PayPalGateway</span>();<br>            <span
                                                    class="hljs-variable">$result</span> = <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">pay</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;amount, <span
                                                    class="hljs-variable">$request</span>-&gt;paypal_token);<br>        } <span
                                                    class="hljs-keyword">elseif</span> (<span class="hljs-variable">$paymentType</span> === <span
                                                    class="hljs-string">'bitcoin'</span>) {<br>            <span
                                                    class="hljs-variable">$gateway</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">BitcoinGateway</span>();<br>            <span
                                                    class="hljs-variable">$result</span> = <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">transfer</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;amount, <span
                                                    class="hljs-variable">$request</span>-&gt;wallet);<br>        }<br>        <span
                                                    class="hljs-comment">// –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –ø–ª–∞—Ç–µ–∂–∞ –Ω—É–∂–Ω–æ –ú–û–î–ò–§–ò–¶–ò–†–û–í–ê–¢–¨ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</span><br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>(<span
                                                    class="hljs-variable">$result</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">PaymentGatewayInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span
                                                    class="hljs-params">PaymentData <span
                                                    class="hljs-variable">$data</span></span>): <span
                                                    class="hljs-title">PaymentResult</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">PaymentController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><br>        <span
                                                    class="hljs-keyword">private</span> PaymentGatewayFactory <span
                                                    class="hljs-variable">$factory</span><br>    </span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>      <br>      <span
                                                    class="hljs-variable">$gateway</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;factory-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;payment_type);<br>      <br>      <span
                                                    class="hljs-variable">$data</span> = <span class="hljs-title.class">PaymentData</span>::<span
                                                    class="hljs-title.function.invoke">fromRequest</span>(<span
                                                    class="hljs-variable">$request</span>);<br>    <br>      <span
                                                    class="hljs-keyword">return</span> <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">process</span>(<span
                                                    class="hljs-variable">$data</span>); <span class="hljs-comment">// –ù–æ–≤—ã–µ —Ç–∏–ø—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞</span><br>    }<br>}</span></pre>
                                            <h2 id="1274"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">L ‚Äî Liskov Substitution Principle
                                                (LSP)</h2>
                                            <p id="b756"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Subclasses of controllers alter the behavior of the base class</p>
                                            <p id="f0e5"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                They break the parent class‚Äôs contract</p>
                                            <p id="8427"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Benefits of
                                                compliance</strong>:</p>
                                            <ul class="">
                                                <li id="cfc1"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Ensures proper polymorphism
                                                </li>
                                                <li id="a38c"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Safe substitution of objects with their
                                                    subclasses
                                                </li>
                                                <li id="ab32"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Code becomes more predictable
                                                </li>
                                                <li id="9a20"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Easier testing with mocks and stubs
                                                </li>
                                            </ul>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="e50c"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">BaseController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>): <span
                                                    class="hljs-title">User</span> </span>{<br>        <span
                                                    class="hljs-variable">$token</span> = <span class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">header</span>(<span
                                                    class="hljs-string">'Authorization'</span>);<br>        <span
                                                    class="hljs-keyword">return</span> <span class="hljs-title.class">User</span>::<span
                                                    class="hljs-title.function.invoke">where</span>(<span
                                                    class="hljs-string">'api_token'</span>, <span class="hljs-variable">$token</span>)-&gt;<span
                                                    class="hljs-title.function.invoke">firstOrFail</span>();<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">AdminController</span> <span
                                                    class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>): <span
                                                    class="hljs-title">User</span> </span>{<br>        <span
                                                    class="hljs-comment">// –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP: –∏–∑–º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞</span><br>        <span
                                                    class="hljs-variable">$user</span> = <span class="hljs-built_in">parent</span>::<span
                                                    class="hljs-title.function.invoke">authenticate</span>(<span
                                                    class="hljs-variable">$request</span>);<br>        <br>        <span
                                                    class="hljs-keyword">if</span> (!<span
                                                    class="hljs-variable">$user</span>-&gt;<span
                                                    class="hljs-title.function.invoke">isAdmin</span>()) {<br>            <span
                                                    class="hljs-keyword">throw</span> <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">UnauthorizedException</span>(<span
                                                    class="hljs-string">'Admin access required'</span>);<br>        }<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable">$user</span>; <span class="hljs-comment">// –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ User</span><br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">GuestController</span> <span
                                                    class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>): <span
                                                    class="hljs-title">User</span> </span>{<br>        <span
                                                    class="hljs-comment">// –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP: –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É</span><br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">GuestUser</span>(); <span
                                                    class="hljs-comment">// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥–æ–π —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞</span><br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">AuthenticatorInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>): <span
                                                    class="hljs-title">AuthResult</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">TokenAuthenticator</span> <span
                                                    class="hljs-keyword">implements</span> <span class="hljs-title">AuthenticatorInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>): <span
                                                    class="hljs-title">AuthResult</span> </span>{<br>        <span
                                                    class="hljs-comment">// –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç AuthResult</span><br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">AdminAuthenticator</span> <span
                                                    class="hljs-keyword">implements</span> <span class="hljs-title">AuthenticatorInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>): <span
                                                    class="hljs-title">AuthResult</span> </span>{<br>        <span
                                                    class="hljs-comment">// –¢–æ–∂–µ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç AuthResult, –Ω–æ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞–¥–º–∏–Ω–∞</span><br>    }<br>}</span></pre>
                                            <h2 id="7e15"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">I ‚Äî Interface Segregation Principle
                                                (ISP)</h2>
                                            <p id="52fd"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Clients should not depend on interfaces they do not use.</p>
                                            <p id="26c7"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>: A
                                                controller is forced to depend on methods it doesn‚Äôt need.</p>
                                            <p id="9000"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Benefits of
                                                compliance</strong>:</p>
                                            <ul class="">
                                                <li id="bf2e"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Classes don‚Äôt depend on unused methods
                                                </li>
                                                <li id="3a1d"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Interfaces become clearer and more
                                                    focused
                                                </li>
                                                <li id="651f"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Easier to modify parts of the system
                                                    independently
                                                </li>
                                                <li id="ca63"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Reduces coupling between components
                                                </li>
                                            </ul>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="2861"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><span class="hljs-keyword">private</span> UserModel <span
                                                    class="hljs-variable">$userModel</span></span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">show</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$id</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ find(), –Ω–æ –∑–∞–≤–∏—Å–∏–º –æ—Ç –í–°–ï–• –º–µ—Ç–æ–¥–æ–≤ –º–æ–¥–µ–ª–∏</span><br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">find</span>(<span
                                                    class="hljs-variable">$id</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserModel</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">find</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$id</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$data</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">update</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$id</span>, <span
                                                    class="hljs-variable">$data</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">delete</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$id</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">sendEmail</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$id</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">uploadAvatar</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$id</span>, <span
                                                    class="hljs-variable">$file</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">generateReport</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$id</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">syncWithCRM</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$id</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">calculateStatistics</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$id</span></span>) </span>{ <span
                                                    class="hljs-comment">/* ... */</span> }<br>    <span
                                                    class="hljs-comment">// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –í–°–ï–• —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω!</span><br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">UserFinderInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">find</span>(<span class="hljs-params"><span
                                                    class="hljs-keyword">int</span> <span
                                                    class="hljs-variable">$id</span></span>): ?<span class="hljs-title">User</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">UserCreatorInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span class="hljs-params"><span
                                                    class="hljs-keyword">array</span> <span
                                                    class="hljs-variable">$data</span></span>): <span
                                                    class="hljs-title">User</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">UserEmailerInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">sendEmail</span>(<span
                                                    class="hljs-params">User <span
                                                    class="hljs-variable">$user</span>, <span class="hljs-keyword">string</span> <span
                                                    class="hljs-variable">$template</span></span>): <span
                                                    class="hljs-title">void</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserShowController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><br>        <span
                                                    class="hljs-keyword">private</span> UserFinderInterface <span
                                                    class="hljs-variable">$userFinder</span> // –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –Ω—É–∂–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞<br>    </span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">show</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$id</span></span>) </span>{<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userFinder-&gt;<span
                                                    class="hljs-title.function.invoke">find</span>(<span
                                                    class="hljs-variable">$id</span>);<br>    }<br>}</span></pre>
                                            <h2 id="b39f"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">D ‚Äî Dependency Inversion Principle
                                                (DIP)</h2>
                                            <p id="4ca9"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                High-level modules should not depend on low-level modules. Both should
                                                depend on abstractions.</p>
                                            <p id="742a"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                            </p>
                                            <ul class="">
                                                <li id="357d"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Controllers directly depend on concrete
                                                    implementations rather than abstractions
                                                </li>
                                                <li id="2524"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Cannot switch from MySQL to PostgreSQL
                                                    without modifying the controller code
                                                </li>
                                                <li id="9cec"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Cannot replace SMTP with another email
                                                    service
                                                </li>
                                                <li id="440e"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Cannot swap one API gateway for another
                                                </li>
                                            </ul>
                                            <p id="badb"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Benefits of
                                                compliance</strong>:<br>‚úî Easy to swap implementations (e.g., databases
                                                or external APIs)<br>‚úî Simpler unit testing with mocks<br>‚úî More modular
                                                system architecture<br>‚úî Reduced dependency on specific technologies</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="a738"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">OrderController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// –ü—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)</span><br>        <span
                                                    class="hljs-variable">$database</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">MySQLDatabase</span>(); <span
                                                    class="hljs-comment">// –ñ–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ MySQL</span><br>        <span
                                                    class="hljs-variable">$emailService</span> = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">SMTPEmailService</span>(); <span
                                                    class="hljs-comment">// –ñ–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ SMTP</span><br>        <span
                                                    class="hljs-variable">$paymentGateway</span> = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">StripeGateway</span>(); <span
                                                    class="hljs-comment">// –ñ–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ Stripe</span><br>        <span
                                                    class="hljs-variable">$logger</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">FileLogger</span>(<span
                                                    class="hljs-string">'/var/log/orders.log'</span>); <span
                                                    class="hljs-comment">// –ñ–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ —Ñ–∞–π–ª—É</span><br>        <br>        <span
                                                    class="hljs-comment">// –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –¥–µ—Ç–∞–ª–µ–π</span><br>        <span
                                                    class="hljs-variable">$order</span> = <span class="hljs-variable">$database</span>-&gt;<span
                                                    class="hljs-title.function.invoke">insert</span>(<span
                                                    class="hljs-string">'orders'</span>, <span class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">all</span>());<br>        <span
                                                    class="hljs-variable">$paymentGateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">charge</span>(<span
                                                    class="hljs-variable">$order</span>[<span class="hljs-string">'total'</span>], <span
                                                    class="hljs-variable">$request</span>-&gt;card_data);<br>        <span
                                                    class="hljs-variable">$emailService</span>-&gt;<span
                                                    class="hljs-title.function.invoke">send</span>(<span
                                                    class="hljs-variable">$order</span>[<span class="hljs-string">'email'</span>], <span
                                                    class="hljs-string">'Order confirmation'</span>);<br>        <span
                                                    class="hljs-variable">$logger</span>-&gt;<span
                                                    class="hljs-title.function.invoke">log</span>(<span
                                                    class="hljs-string">"Order created: <span class="hljs-subst">{$order['id']}</span>"</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>(<span
                                                    class="hljs-variable">$order</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">OrderRepositoryInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span class="hljs-params"><span
                                                    class="hljs-keyword">array</span> <span
                                                    class="hljs-variable">$data</span></span>): <span
                                                    class="hljs-title">Order</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">EmailServiceInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">send</span>(<span class="hljs-params"><span
                                                    class="hljs-keyword">string</span> <span
                                                    class="hljs-variable">$to</span>, <span
                                                    class="hljs-keyword">string</span> <span class="hljs-variable">$template</span>, <span
                                                    class="hljs-keyword">array</span> <span
                                                    class="hljs-variable">$data</span></span>): <span
                                                    class="hljs-title">void</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">PaymentGatewayInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">charge</span>(<span class="hljs-params"><span
                                                    class="hljs-keyword">float</span> <span class="hljs-variable">$amount</span>, <span
                                                    class="hljs-keyword">array</span> <span class="hljs-variable">$cardData</span></span>): <span
                                                    class="hljs-title">PaymentResult</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">OrderController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><br>        <span
                                                    class="hljs-keyword">private</span> OrderRepositoryInterface <span
                                                    class="hljs-variable">$orderRepository</span>,<br>        <span
                                                    class="hljs-keyword">private</span> EmailServiceInterface <span
                                                    class="hljs-variable">$emailService</span>,<br>        <span
                                                    class="hljs-keyword">private</span> PaymentGatewayInterface <span
                                                    class="hljs-variable">$paymentGateway</span><br>    </span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</span><br>        <span
                                                    class="hljs-variable">$order</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;orderRepository-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">all</span>());<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;paymentGateway-&gt;<span
                                                    class="hljs-title.function.invoke">charge</span>(<span
                                                    class="hljs-variable">$order</span>-&gt;total, <span
                                                    class="hljs-variable">$request</span>-&gt;card_data);<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;emailService-&gt;<span
                                                    class="hljs-title.function.invoke">send</span>(<span
                                                    class="hljs-variable">$order</span>-&gt;email, <span
                                                    class="hljs-string">'order_confirmation'</span>, [<span
                                                    class="hljs-string">'order'</span> =&gt; <span
                                                    class="hljs-variable">$order</span>]);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>(<span
                                                    class="hljs-variable">$order</span>);<br>    }<br>}</span></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="d3a7"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">DRY (Don‚Äôt
                                            Repeat Yourself) violations</h1>
                                            <p id="b781"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Problems:</strong></p>
                                            <ul class="">
                                                <li id="61a1"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Duplication of validation logic across
                                                    different controllers
                                                </li>
                                                <li id="de2b"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Repeated data formatting logic
                                                </li>
                                                <li id="6555"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Copied business rules
                                                </li>
                                            </ul>
                                            <p id="e80c"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Solutions:</strong>
                                            </p>
                                            <ul class="">
                                                <li id="1269"
                                                    class="me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Validation changes are made in a single
                                                    place
                                                </li>
                                                <li id="d4b6"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Easier to test the code
                                                </li>
                                                <li id="5f66"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Fewer errors during modifications
                                                </li>
                                                <li id="15ea"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Better readability and maintainability
                                                </li>
                                            </ul>
                                            <p id="6bc8"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Benefits of
                                                Compliance</strong>:</p>
                                            <p id="4da1"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">‚úî Single Source of Truth ‚Äî Changes are made
                                                once and automatically applied everywhere<br>‚úî Fewer Bugs ‚Äî No risk of
                                                forgetting to update duplicated code<br>‚úî Faster Development ‚Äî No need
                                                to copy and adapt similar code<br>‚úî Simpler Testing ‚Äî Only one
                                                implementation needs testing instead of multiple copies<br>‚úî Improved
                                                Readability ‚Äî Code becomes more concise and clear<br>‚úî Easier
                                                Refactoring ‚Äî Logic changes require edits in just one place<br>‚úî DRY
                                                Principle Compliance ‚Äî Every piece of knowledge has a single,
                                                unambiguous representation<br>‚úî Reduced Maintenance Time ‚Äî Less code to
                                                analyze and debug<br>‚úî Lower Technical Debt ‚Äî No accumulation of
                                                duplicated code<br>‚úî Better Consistency ‚Äî Uniform logic without
                                                discrepancies</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="8317"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>() </span>{<br>        <span
                                                    class="hljs-comment">// –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>]) || !<span
                                                    class="hljs-title.function.invoke">filter_var</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>], FILTER_VALIDATE_EMAIL)) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'</span>];<br>        }<br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) || <span
                                                    class="hljs-title.function.invoke">strlen</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) &lt; <span
                                                    class="hljs-number">2</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞'</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</span><br>        <span
                                                    class="hljs-variable">$userData</span> = [<br>            <span
                                                    class="hljs-string">'name'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">ucfirst</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>])),<br>            <span
                                                    class="hljs-string">'email'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">strtolower</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>])),<br>            <span
                                                    class="hljs-string">'created_at'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">date</span>(<span
                                                    class="hljs-string">'Y-m-d H:i:s'</span>)<br>        ];<br>        <br>        <span
                                                    class="hljs-comment">// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span><br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$userData</span>);<br>    }<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">update</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$id</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// –¢–∞ –∂–µ –≤–∞–ª–∏–¥–∞—Ü–∏—è - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ!</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>]) || !<span
                                                    class="hljs-title.function.invoke">filter_var</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>], FILTER_VALIDATE_EMAIL)) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'</span>];<br>        }<br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) || <span
                                                    class="hljs-title.function.invoke">strlen</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) &lt; <span
                                                    class="hljs-number">2</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞'</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –¢–æ –∂–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ!</span><br>        <span
                                                    class="hljs-variable">$userData</span> = [<br>            <span
                                                    class="hljs-string">'name'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">ucfirst</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>])),<br>            <span
                                                    class="hljs-string">'email'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">strtolower</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>])),<br>            <span
                                                    class="hljs-string">'updated_at'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">date</span>(<span
                                                    class="hljs-string">'Y-m-d H:i:s'</span>)<br>        ];<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">update</span>(<span
                                                    class="hljs-variable">$id</span>, <span class="hljs-variable">$userData</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProfileController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">updateProfile</span>(<span
                                                    class="hljs-params"><span
                                                    class="hljs-variable">$userId</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// –°–Ω–æ–≤–∞ —Ç–∞ –∂–µ –≤–∞–ª–∏–¥–∞—Ü–∏—è - —Ç—Ä–µ—Ç—å–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ!</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>]) || !<span
                                                    class="hljs-title.function.invoke">filter_var</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>], FILTER_VALIDATE_EMAIL)) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'</span>];<br>        }<br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) || <span
                                                    class="hljs-title.function.invoke">strlen</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) &lt; <span
                                                    class="hljs-number">2</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞'</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –ò —Å–Ω–æ–≤–∞ —Ç–æ –∂–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ!</span><br>        <span
                                                    class="hljs-variable">$userData</span> = [<br>            <span
                                                    class="hljs-string">'name'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">ucfirst</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>])),<br>            <span
                                                    class="hljs-string">'email'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">strtolower</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'email'</span>]))<br>        ];<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">update</span>(<span
                                                    class="hljs-variable">$userId</span>, <span class="hljs-variable">$userData</span>);<br>    }<br>}<br><br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><br><span
                                                    class="hljs-comment">// –í—ã–Ω–æ—Å–∏–º –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserValidator</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span
                                                    class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">validate</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$data</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$errors</span> = [];<br>        <br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'email'</span>]) || !<span
                                                    class="hljs-title.function.invoke">filter_var</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'email'</span>], FILTER_VALIDATE_EMAIL)) {<br>            <span
                                                    class="hljs-variable">$errors</span>[] = <span class="hljs-string">'–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'</span>;<br>        }<br>        <br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'name'</span>]) || <span
                                                    class="hljs-title.function.invoke">strlen</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'name'</span>]) &lt; <span
                                                    class="hljs-number">2</span>) {<br>            <span
                                                    class="hljs-variable">$errors</span>[] = <span class="hljs-string">'–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞'</span>;<br>        }<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span class="hljs-variable">$errors</span>;<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –í—ã–Ω–æ—Å–∏–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserFormatter</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span
                                                    class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">format</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$data</span></span>) </span>{<br>        <span
                                                    class="hljs-keyword">return</span> [<br>            <span
                                                    class="hljs-string">'name'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">ucfirst</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'name'</span>])),<br>            <span
                                                    class="hljs-string">'email'</span> =&gt; <span
                                                    class="hljs-title.function.invoke">strtolower</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'email'</span>]))<br>        ];<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –¢–µ–ø–µ—Ä—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â—É—é –ª–æ–≥–∏–∫—É</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>() </span>{<br>        <span
                                                    class="hljs-variable">$errors</span> = <span
                                                    class="hljs-title.class">UserValidator</span>::<span
                                                    class="hljs-title.function.invoke">validate</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>        <span
                                                    class="hljs-keyword">if</span> (!<span
                                                    class="hljs-keyword">empty</span>(<span class="hljs-variable">$errors</span>)) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'errors'</span> =&gt; <span
                                                    class="hljs-variable">$errors</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-variable">$userData</span> = <span
                                                    class="hljs-title.class">UserFormatter</span>::<span
                                                    class="hljs-title.function.invoke">format</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>        <span
                                                    class="hljs-variable">$userData</span>[<span class="hljs-string">'created_at'</span>] = <span
                                                    class="hljs-title.function.invoke">date</span>(<span
                                                    class="hljs-string">'Y-m-d H:i:s'</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$userData</span>);<br>    }<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">update</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$id</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$errors</span> = <span
                                                    class="hljs-title.class">UserValidator</span>::<span
                                                    class="hljs-title.function.invoke">validate</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>        <span
                                                    class="hljs-keyword">if</span> (!<span
                                                    class="hljs-keyword">empty</span>(<span class="hljs-variable">$errors</span>)) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'errors'</span> =&gt; <span
                                                    class="hljs-variable">$errors</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-variable">$userData</span> = <span
                                                    class="hljs-title.class">UserFormatter</span>::<span
                                                    class="hljs-title.function.invoke">format</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>        <span
                                                    class="hljs-variable">$userData</span>[<span class="hljs-string">'updated_at'</span>] = <span
                                                    class="hljs-title.function.invoke">date</span>(<span
                                                    class="hljs-string">'Y-m-d H:i:s'</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">update</span>(<span
                                                    class="hljs-variable">$id</span>, <span class="hljs-variable">$userData</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProfileController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">updateProfile</span>(<span
                                                    class="hljs-params"><span
                                                    class="hljs-variable">$userId</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$errors</span> = <span
                                                    class="hljs-title.class">UserValidator</span>::<span
                                                    class="hljs-title.function.invoke">validate</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>        <span
                                                    class="hljs-keyword">if</span> (!<span
                                                    class="hljs-keyword">empty</span>(<span class="hljs-variable">$errors</span>)) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'errors'</span> =&gt; <span
                                                    class="hljs-variable">$errors</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-variable">$userData</span> = <span
                                                    class="hljs-title.class">UserFormatter</span>::<span
                                                    class="hljs-title.function.invoke">format</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">update</span>(<span
                                                    class="hljs-variable">$userId</span>, <span class="hljs-variable">$userData</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –ï—â–µ –ª—É—á—à–µ - —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å-–∫–ª–∞—Å—Å</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserService</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">processUserData</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$data</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$errors</span> = <span
                                                    class="hljs-title.class">UserValidator</span>::<span
                                                    class="hljs-title.function.invoke">validate</span>(<span
                                                    class="hljs-variable">$data</span>);<br>        <span
                                                    class="hljs-keyword">if</span> (!<span
                                                    class="hljs-keyword">empty</span>(<span class="hljs-variable">$errors</span>)) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'success'</span> =&gt; <span
                                                    class="hljs-literal">false</span>, <span class="hljs-string">'errors'</span> =&gt; <span
                                                    class="hljs-variable">$errors</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'success'</span> =&gt; <span
                                                    class="hljs-literal">true</span>, <span
                                                    class="hljs-string">'data'</span> =&gt; <span
                                                    class="hljs-title.class">UserFormatter</span>::<span
                                                    class="hljs-title.function.invoke">format</span>(<span
                                                    class="hljs-variable">$data</span>)];<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –¢–µ–ø–µ—Ä—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –µ—â–µ –ø—Ä–æ—â–µ</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">private</span> <span class="hljs-variable">$userService</span>;<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>() </span>{<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;userService = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">UserService</span>();<br>    }<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>() </span>{<br>        <span
                                                    class="hljs-variable">$result</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;userService-&gt;<span
                                                    class="hljs-title.function.invoke">processUserData</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>        <span
                                                    class="hljs-keyword">if</span> (!<span
                                                    class="hljs-variable">$result</span>[<span class="hljs-string">'success'</span>]) {<br>            <span
                                                    class="hljs-keyword">return</span> <span class="hljs-variable">$result</span>;<br>        }<br>        <br>        <span
                                                    class="hljs-variable">$userData</span> = <span
                                                    class="hljs-variable">$result</span>[<span class="hljs-string">'data'</span>];<br>        <span
                                                    class="hljs-variable">$userData</span>[<span class="hljs-string">'created_at'</span>] = <span
                                                    class="hljs-title.function.invoke">date</span>(<span
                                                    class="hljs-string">'Y-m-d H:i:s'</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;userModel-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$userData</span>);<br>    }<br>}</span></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="6f9c"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">KISS (Keep It
                                            Simple, Stupid) Violations</h1>
                                            <h2 id="772e"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Problems:</h2>
                                            <ul class="">
                                                <li id="ed38"
                                                    class="me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Controllers become complex due to mixed
                                                    responsibilities
                                                </li>
                                                <li id="4a4b"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Models are overloaded with
                                                    heterogeneous functionality
                                                </li>
                                            </ul>
                                            <h2 id="343b"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Solutions:</h2>
                                            <ul class="">
                                                <li id="d238"
                                                    class="me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Keep controllers simple ‚Äî only accept
                                                    requests and return responses
                                                </li>
                                                <li id="3b79"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Each class solves one simple task
                                                </li>
                                                <li id="9133"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Models contain only data and basic
                                                    processing logic
                                                </li>
                                                <li id="17b7"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Services coordinate simple actions
                                                </li>
                                            </ul>
                                            <h2 id="7bce"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Benefits of Compliance:</h2>
                                            <p id="f675"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph="">‚úî Easier Code Understanding ‚Äî Simple
                                                solutions are quicker for new developers to grasp<br>‚úî Faster Bug
                                                Detection ‚Äî Bugs are more obvious in straightforward code<br>‚úî Simpler
                                                Feature Addition ‚Äî No need to navigate complex architecture<br>‚úî Reduced
                                                Debugging Time ‚Äî Simple components are easier to test and fix<br>‚úî Lower
                                                Cognitive Load ‚Äî Developers can focus on business logic<br>‚úî Faster
                                                Development ‚Äî Simple solutions are implemented quicker than complex ones<br>‚úî
                                                Fewer Error Opportunities ‚Äî Simpler code has fewer bug risks<br>‚úî Easier
                                                Maintenance ‚Äî Simple systems are simpler to modify and extend<br>‚úî
                                                Better Performance ‚Äî Simple solutions often run faster<br>‚úî Simplified
                                                Testing ‚Äî Basic functions are easier to cover with tests<br>‚úî Lower
                                                Development Costs ‚Äî Less time spent writing and maintaining code<br>‚úî
                                                Increased Reliability ‚Äî Simple systems are more stable and predictable
                                            </p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="1fc6"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span class="hljs-comment">// –°–ª–æ–∂–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–º–µ—à–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProductController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>() </span>{<br>        <span
                                                    class="hljs-comment">// –í–∞–ª–∏–¥–∞—Ü–∏—è</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) || <span
                                                    class="hljs-title.function.invoke">strlen</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]) &lt; <span
                                                    class="hljs-number">3</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞'</span>];<br>        }<br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'price'</span>]) || !<span
                                                    class="hljs-title.function.invoke">is_numeric</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'price'</span>]) || <span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'price'</span>] &lt;= <span
                                                    class="hljs-number">0</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-string">'–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞'</span>];<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</span><br>        <span
                                                    class="hljs-variable">$name</span> = <span
                                                    class="hljs-title.function.invoke">ucfirst</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span
                                                    class="hljs-string">'name'</span>]));<br>        <span
                                                    class="hljs-variable">$price</span> = <span
                                                    class="hljs-title.function.invoke">round</span>(<span
                                                    class="hljs-title.function.invoke">floatval</span>(<span
                                                    class="hljs-variable">$_POST</span>[<span class="hljs-string">'price'</span>]), <span
                                                    class="hljs-number">2</span>);<br>        <span
                                                    class="hljs-variable">$slug</span> = <span
                                                    class="hljs-title.function.invoke">strtolower</span>(<span
                                                    class="hljs-title.function.invoke">str_replace</span>(<span
                                                    class="hljs-string">' '</span>, <span class="hljs-string">'-'</span>, <span
                                                    class="hljs-variable">$name</span>));<br>        <br>        <span
                                                    class="hljs-comment">// –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏</span><br>        <span
                                                    class="hljs-variable">$existing</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;db-&gt;<span
                                                    class="hljs-title.function.invoke">query</span>(<span
                                                    class="hljs-string">"SELECT id FROM products WHERE slug = ?"</span>, [<span
                                                    class="hljs-variable">$slug</span>]);<br>        <span
                                                    class="hljs-keyword">if</span> (<span class="hljs-variable">$existing</span>) {<br>            <span
                                                    class="hljs-variable">$slug</span> .= <span
                                                    class="hljs-string">'-'</span> . <span
                                                    class="hljs-title.function.invoke">time</span>();<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</span><br>        <span
                                                    class="hljs-variable">$id</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;db-&gt;<span
                                                    class="hljs-title.function.invoke">insert</span>(<span
                                                    class="hljs-string">"INSERT INTO products (name, price, slug, created_at) VALUES (?, ?, ?, NOW())"</span>, <br>            [<span
                                                    class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>, <span
                                                    class="hljs-variable">$slug</span>]);<br>        <br>        <span
                                                    class="hljs-comment">// –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</span><br>        <span
                                                    class="hljs-title.function.invoke">mail</span>(<span
                                                    class="hljs-string">'admin@site.com'</span>, <span
                                                    class="hljs-string">'–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä'</span>, <span class="hljs-string">"–°–æ–∑–¥–∞–Ω —Ç–æ–≤–∞—Ä: <span
                                                    class="hljs-subst">$name</span>, —Ü–µ–Ω–∞: <span class="hljs-subst">$price</span>"</span>);<br>        <br>        <span
                                                    class="hljs-comment">// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</span><br>        <span
                                                    class="hljs-title.function.invoke">error_log</span>(<span
                                                    class="hljs-string">"Product created: <span
                                                    class="hljs-subst">$name</span> (<span class="hljs-subst">$id</span>)"</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'success'</span> =&gt; <span
                                                    class="hljs-literal">true</span>, <span
                                                    class="hljs-string">'id'</span> =&gt; <span class="hljs-variable">$id</span>];<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –ü–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">Product</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span
                                                    class="hljs-variable">$id</span>, <span
                                                    class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>, <span
                                                    class="hljs-variable">$slug</span>;<br>    <br>    <span
                                                    class="hljs-comment">// –†–∞–±–æ—Ç–∞ —Å –ë–î</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">save</span>() </span>{<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;db-&gt;<span
                                                    class="hljs-title.function.invoke">insert</span>(<span
                                                    class="hljs-string">"INSERT INTO products..."</span>);<br>    }<br>    <br>    <span
                                                    class="hljs-comment">// –í–∞–ª–∏–¥–∞—Ü–∏—è</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">isValid</span>() </span>{<br>        <span
                                                    class="hljs-keyword">return</span> !<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable.language">$this</span>-&gt;name) &amp;&amp; <span
                                                    class="hljs-variable.language">$this</span>-&gt;price &gt; <span
                                                    class="hljs-number">0</span>;<br>    }<br>    <br>    <span
                                                    class="hljs-comment">// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">formatPrice</span>() </span>{<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-string">'$'</span> . <span
                                                    class="hljs-title.function.invoke">number_format</span>(<span
                                                    class="hljs-variable">$this</span>-&gt;price, <span
                                                    class="hljs-number">2</span>);<br>    }<br>    <br>    <span
                                                    class="hljs-comment">// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è slug</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">generateSlug</span>() </span>{<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">strtolower</span>(<span
                                                    class="hljs-title.function.invoke">str_replace</span>(<span
                                                    class="hljs-string">' '</span>, <span class="hljs-string">'-'</span>, <span
                                                    class="hljs-variable">$this</span>-&gt;name));<br>    }<br>    <br>    <span
                                                    class="hljs-comment">// –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">notifyAdmin</span>() </span>{<br>        <span
                                                    class="hljs-title.function.invoke">mail</span>(<span
                                                    class="hljs-string">'admin@site.com'</span>, <span
                                                    class="hljs-string">'–¢–æ–≤–∞—Ä –∏–∑–º–µ–Ω–µ–Ω'</span>, <span
                                                    class="hljs-string">"–¢–æ–≤–∞—Ä <span
                                                    class="hljs-subst">{$this-&gt;name}</span> –æ–±–Ω–æ–≤–ª–µ–Ω"</span>);<br>    }<br>}<br><br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span class="hljs-comment">// –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ–π</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProductController</span> </span>{<br>    <span
                                                    class="hljs-keyword">private</span> <span class="hljs-variable">$productService</span>;<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>() </span>{<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;productService = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">ProductService</span>();<br>    }<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>() </span>{<br>        <span
                                                    class="hljs-keyword">try</span> {<br>            <span
                                                    class="hljs-variable">$product</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;productService-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$_POST</span>);<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'success'</span> =&gt; <span
                                                    class="hljs-literal">true</span>, <span
                                                    class="hljs-string">'id'</span> =&gt; <span class="hljs-variable">$product</span>-&gt;id];<br>        } <span
                                                    class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> <span
                                                    class="hljs-variable">$e</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span
                                                    class="hljs-variable">$e</span>-&gt;<span
                                                    class="hljs-title.function.invoke">getMessage</span>()];<br>        }<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –ü—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProductService</span> </span>{<br>    <span
                                                    class="hljs-keyword">private</span> <span class="hljs-variable">$validator</span>;<br>    <span
                                                    class="hljs-keyword">private</span> <span class="hljs-variable">$repository</span>;<br>    <span
                                                    class="hljs-keyword">private</span> <span class="hljs-variable">$notifier</span>;<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>() </span>{<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;validator = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">ProductValidator</span>();<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;repository = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">ProductRepository</span>();<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;notifier = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">ProductNotifier</span>();<br>    }<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span class="hljs-params"><span
                                                    class="hljs-variable">$data</span></span>) </span>{<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;validator-&gt;<span
                                                    class="hljs-title.function.invoke">validate</span>(<span
                                                    class="hljs-variable">$data</span>);<br>        <br>        <span
                                                    class="hljs-variable">$product</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">Product</span>(<span class="hljs-variable">$data</span>);<br>        <span
                                                    class="hljs-variable">$product</span>-&gt;id = <span
                                                    class="hljs-variable.language">$this</span>-&gt;repository-&gt;<span
                                                    class="hljs-title.function.invoke">save</span>(<span
                                                    class="hljs-variable">$product</span>);<br>        <br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;notifier-&gt;<span
                                                    class="hljs-title.function.invoke">notifyCreated</span>(<span
                                                    class="hljs-variable">$product</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span class="hljs-variable">$product</span>;<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –ø—Ä–æ—Å—Ç—É—é –∑–∞–¥–∞—á—É</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProductValidator</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">validate</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$data</span></span>) </span>{<br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'name'</span>]) || <span
                                                    class="hljs-title.function.invoke">strlen</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'name'</span>]) &lt; <span
                                                    class="hljs-number">3</span>) {<br>            <span
                                                    class="hljs-keyword">throw</span> <span
                                                    class="hljs-keyword">new</span> <span class="hljs-built_in">Exception</span>(<span
                                                    class="hljs-string">'–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞'</span>);<br>        }<br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-keyword">empty</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'price'</span>]) || <span class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'price'</span>] &lt;= <span class="hljs-number">0</span>) {<br>            <span
                                                    class="hljs-keyword">throw</span> <span
                                                    class="hljs-keyword">new</span> <span class="hljs-built_in">Exception</span>(<span
                                                    class="hljs-string">'–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞'</span>);<br>        }<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProductRepository</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">save</span>(<span
                                                    class="hljs-params">Product <span
                                                    class="hljs-variable">$product</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$sql</span> = <span class="hljs-string">"INSERT INTO products (name, price, slug) VALUES (?, ?, ?)"</span>;<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;db-&gt;<span
                                                    class="hljs-title.function.invoke">insert</span>(<span
                                                    class="hljs-variable">$sql</span>, [<span class="hljs-variable">$product</span>-&gt;name, <span
                                                    class="hljs-variable">$product</span>-&gt;price, <span
                                                    class="hljs-variable">$product</span>-&gt;slug]);<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">ProductNotifier</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">notifyCreated</span>(<span
                                                    class="hljs-params">Product <span
                                                    class="hljs-variable">$product</span></span>) </span>{<br>        <span
                                                    class="hljs-title.function.invoke">mail</span>(<span
                                                    class="hljs-string">'admin@site.com'</span>, <span
                                                    class="hljs-string">'–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä'</span>, <span class="hljs-string">"–°–æ–∑–¥–∞–Ω: <span
                                                    class="hljs-subst">{$product-&gt;name}</span>"</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// –ü—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å —Ç–æ–ª—å–∫–æ —Å –¥–∞–Ω–Ω—ã–º–∏</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">Product</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span
                                                    class="hljs-variable">$id</span>, <span
                                                    class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>, <span
                                                    class="hljs-variable">$slug</span>;<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$data</span></span>) </span>{<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;name = <span
                                                    class="hljs-title.function.invoke">ucfirst</span>(<span
                                                    class="hljs-title.function.invoke">trim</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'name'</span>]));<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;price = <span
                                                    class="hljs-title.function.invoke">round</span>(<span
                                                    class="hljs-title.function.invoke">floatval</span>(<span
                                                    class="hljs-variable">$data</span>[<span
                                                    class="hljs-string">'price'</span>]), <span
                                                    class="hljs-number">2</span>);<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;slug = <span
                                                    class="hljs-variable.language">$this</span>-&gt;<span
                                                    class="hljs-title.function.invoke">createSlug</span>(<span
                                                    class="hljs-variable">$this</span>-&gt;name);<br>    }<br>    <br>    <span
                                                    class="hljs-keyword">private</span> <span
                                                    class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">createSlug</span>(<span
                                                    class="hljs-params"><span class="hljs-variable">$name</span></span>) </span>{<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">strtolower</span>(<span
                                                    class="hljs-title.function.invoke">str_replace</span>(<span
                                                    class="hljs-string">' '</span>, <span class="hljs-string">'-'</span>, <span
                                                    class="hljs-variable">$name</span>));<br>    }<br>}</span></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="4957"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">Violations of
                                            GRASP principles</h1>
                                            <p id="9912"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph="">GRASP is are fundamental principles for
                                                assigning responsibilities in object-oriented design. Pure MVC
                                                systematically violates most of them.</p>
                                            <h2 id="e98c"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Information Expert</h2>
                                            <p id="c5ef"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Responsibility should be assigned to the class that has the necessary
                                                information to fulfill it.</p>
                                            <p id="0a17"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                Controllers perform data operations they don‚Äôt own.</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="78b6"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">calculateDiscount</span>(<span
                                                    class="hljs-params"><span
                                                    class="hljs-variable">$userId</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$user</span> = <span class="hljs-title.class">User</span>::<span
                                                    class="hljs-title.function.invoke">find</span>(<span
                                                    class="hljs-variable">$userId</span>);<br>        <span
                                                    class="hljs-variable">$orders</span> = <span
                                                    class="hljs-title.class">Order</span>::<span
                                                    class="hljs-title.function.invoke">where</span>(<span
                                                    class="hljs-string">'user_id'</span>, <span class="hljs-variable">$userId</span>)-&gt;<span
                                                    class="hljs-title.function.invoke">get</span>();<br>        <br>        <span
                                                    class="hljs-comment">// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤—ã—á–∏—Å–ª—è–µ—Ç —Å–∫–∏–¥–∫—É, –Ω–µ –∏–º–µ—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞—Ö</span><br>        <span
                                                    class="hljs-variable">$totalSpent</span> = <span
                                                    class="hljs-variable">$orders</span>-&gt;<span
                                                    class="hljs-title.function.invoke">sum</span>(<span
                                                    class="hljs-string">'total'</span>);<br>        <span
                                                    class="hljs-keyword">if</span> (<span class="hljs-variable">$totalSpent</span> &gt; <span
                                                    class="hljs-number">10000</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-number">0.15</span>; <span class="hljs-comment">// 15% —Å–∫–∏–¥–∫–∞</span><br>        } <span
                                                    class="hljs-keyword">elseif</span> (<span class="hljs-variable">$totalSpent</span> &gt; <span
                                                    class="hljs-number">5000</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-number">0.10</span>; <span class="hljs-comment">// 10% —Å–∫–∏–¥–∫–∞</span><br>        }<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-number">0</span>;<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">User</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">calculateDiscount</span>(): <span
                                                    class="hljs-title">float</span> </span>{<br>        <span
                                                    class="hljs-variable">$totalSpent</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;orders-&gt;<span
                                                    class="hljs-title.function.invoke">sum</span>(<span
                                                    class="hljs-string">'total'</span>);<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;discountStrategy-&gt;<span
                                                    class="hljs-title.function.invoke">calculate</span>(<span
                                                    class="hljs-variable">$totalSpent</span>);<br>    }<br>}</span></pre>
                                            <h2 id="cbf0"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Creator</h2>
                                            <p id="5acd"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Class A should create instances of class B if A contains B, aggregates
                                                B, or has data to initialize B.</p>
                                            <p id="db84"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                Controllers create objects without a logical reason.</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="1f35"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">OrderController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$order</span> = <span
                                                    class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">Order</span>(); <span class="hljs-comment">// –ü–æ—á–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑?</span><br>        <span
                                                    class="hljs-variable">$order</span>-&gt;user_id = <span
                                                    class="hljs-variable">$request</span>-&gt;user_id;<br>        <br>        <span
                                                    class="hljs-keyword">foreach</span> (<span class="hljs-variable">$request</span>-&gt;items <span
                                                    class="hljs-keyword">as</span> <span
                                                    class="hljs-variable">$item</span>) {<br>            <span
                                                    class="hljs-variable">$orderItem</span> = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">OrderItem</span>(); <span
                                                    class="hljs-comment">// –ò —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–∞?</span><br>            <span
                                                    class="hljs-variable">$orderItem</span>-&gt;product_id = <span
                                                    class="hljs-variable">$item</span>[<span class="hljs-string">'product_id'</span>];<br>            <span
                                                    class="hljs-variable">$orderItem</span>-&gt;quantity = <span
                                                    class="hljs-variable">$item</span>[<span class="hljs-string">'quantity'</span>];<br>            <span
                                                    class="hljs-variable">$order</span>-&gt;<span
                                                    class="hljs-title.function.invoke">items</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">save</span>(<span
                                                    class="hljs-variable">$orderItem</span>);<br>        }<br>        <br>        <span
                                                    class="hljs-variable">$payment</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">Payment</span>(); <span
                                                    class="hljs-comment">// –ò –ø–ª–∞—Ç–µ–∂?</span><br>        <span
                                                    class="hljs-variable">$payment</span>-&gt;order_id = <span
                                                    class="hljs-variable">$order</span>-&gt;id;<br>        <span
                                                    class="hljs-variable">$payment</span>-&gt;<span
                                                    class="hljs-title.function.invoke">save</span>();<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">Order</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">addItem</span>(<span
                                                    class="hljs-params">Product <span
                                                    class="hljs-variable">$product</span>, <span class="hljs-keyword">int</span> <span
                                                    class="hljs-variable">$quantity</span></span>): <span
                                                    class="hljs-title">OrderItem</span> </span>{<br>        <span
                                                    class="hljs-comment">// –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–∏ —ç–ª–µ–º–µ–Ω—Ç—ã - –ª–æ–≥–∏—á–Ω–æ</span><br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">OrderItem</span>(<span
                                                    class="hljs-variable.language">$this</span>, <span
                                                    class="hljs-variable">$product</span>, <span class="hljs-variable">$quantity</span>);<br>    }<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">createPayment</span>(<span
                                                    class="hljs-params">PaymentMethod <span class="hljs-variable">$method</span></span>): <span
                                                    class="hljs-title">Payment</span> </span>{<br>        <span
                                                    class="hljs-comment">// –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–π –ø–ª–∞—Ç–µ–∂ - –ª–æ–≥–∏—á–Ω–æ</span><br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">Payment</span>(<span
                                                    class="hljs-variable.language">$this</span>, <span
                                                    class="hljs-variable">$method</span>, <span
                                                    class="hljs-variable.language">$this</span>-&gt;<span
                                                    class="hljs-title.function.invoke">getTotal</span>());<br>    }<br>}</span></pre>
                                            <h2 id="67cc"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Controller (in the GRASP sense)</h2>
                                            <p id="34b8"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>: A
                                                non-UI object should handle system events and coordinate work.</p>
                                            <p id="07b3"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                HTTP controller mixed with domain controller.</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="2753"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">PaymentController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">processPayment</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// HTTP-–ª–æ–≥–∏–∫–∞ —Å–º–µ—à–∞–Ω–∞ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π</span><br>        <span
                                                    class="hljs-variable">$order</span> = <span
                                                    class="hljs-title.class">Order</span>::<span
                                                    class="hljs-title.function.invoke">find</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;order_id);<br>        <br>        <span
                                                    class="hljs-comment">// –í–∞–ª–∏–¥–∞—Ü–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–∞</span><br>        <span
                                                    class="hljs-keyword">if</span> (!<span class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">has</span>(<span
                                                    class="hljs-string">'payment_method'</span>)) {<br>            <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>([<span
                                                    class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'Payment method required'</span>], <span
                                                    class="hljs-number">400</span>);<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–∞</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-variable">$order</span>-&gt;status !== <span
                                                    class="hljs-string">'pending'</span>) {<br>            <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">response</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">json</span>([<span
                                                    class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'Order not pending'</span>], <span
                                                    class="hljs-number">400</span>);<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –í—ã–∑–æ–≤ –≤–Ω–µ—à–Ω–µ–≥–æ API</span><br>        <span
                                                    class="hljs-variable">$paymentGateway</span> = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">PaymentGateway</span>();<br>        <span
                                                    class="hljs-variable">$result</span> = <span class="hljs-variable">$paymentGateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">charge</span>(<span
                                                    class="hljs-variable">$order</span>-&gt;total, <span
                                                    class="hljs-variable">$request</span>-&gt;payment_method);<br>        <br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-variable">$result</span>-&gt;success) {<br>            <span
                                                    class="hljs-variable">$order</span>-&gt;status = <span
                                                    class="hljs-string">'paid'</span>;<br>            <span
                                                    class="hljs-variable">$order</span>-&gt;<span
                                                    class="hljs-title.function.invoke">save</span>();<br>            <br>            <span
                                                    class="hljs-comment">// –û—Ç–ø—Ä–∞–≤–∫–∞ email</span><br>            <span
                                                    class="hljs-title.class">Mail</span>::<span
                                                    class="hljs-title.function.invoke">send</span>(<span
                                                    class="hljs-string">'payment_success'</span>, [<span
                                                    class="hljs-string">'order'</span> =&gt; <span
                                                    class="hljs-variable">$order</span>]);<br>        }<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">PaymentController</span> </span>{ <span
                                                    class="hljs-comment">// HTTP-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">processPayment</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$dto</span> = ProcessPaymentDTO::<span
                                                    class="hljs-title.function.invoke">fromRequest</span>(<span
                                                    class="hljs-variable">$request</span>);<br>        <span
                                                    class="hljs-variable">$result</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;paymentService-&gt;<span
                                                    class="hljs-title.function.invoke">processPayment</span>(<span
                                                    class="hljs-variable">$dto</span>);<br>        <span
                                                    class="hljs-keyword">return</span> <span class="hljs-title.class">PaymentResource</span>::<span
                                                    class="hljs-title.function.invoke">make</span>(<span
                                                    class="hljs-variable">$result</span>);<br>    }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">PaymentService</span> </span>{ <span
                                                    class="hljs-comment">// –î–æ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">processPayment</span>(<span
                                                    class="hljs-params">ProcessPaymentDTO <span class="hljs-variable">$dto</span></span>): <span
                                                    class="hljs-title">PaymentResult</span> </span>{<br>        <span
                                                    class="hljs-comment">// –¢–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞</span><br>        <span
                                                    class="hljs-variable">$order</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;orderRepository-&gt;<span
                                                    class="hljs-title.function.invoke">find</span>(<span
                                                    class="hljs-variable">$dto</span>-&gt;orderId);<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;paymentValidator-&gt;<span
                                                    class="hljs-title.function.invoke">validate</span>(<span
                                                    class="hljs-variable">$order</span>, <span class="hljs-variable">$dto</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;paymentProcessor-&gt;<span
                                                    class="hljs-title.function.invoke">process</span>(<span
                                                    class="hljs-variable">$order</span>, <span class="hljs-variable">$dto</span>-&gt;paymentMethod);<br>    }<br>}</span></pre>
                                            <h2 id="5c62"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Low Coupling</h2>
                                            <p id="231d"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Classes should have minimal dependencies on each other.</p>
                                            <p id="a17a"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                Controllers are tightly coupled to models, external services, and views.
                                            </p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="a475"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">updateProfile</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$user</span> = <span class="hljs-title.class">User</span>::<span
                                                    class="hljs-title.function.invoke">find</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;user_id); <span
                                                    class="hljs-comment">// –°–≤—è–∑—å —Å Eloquent</span><br>        <br>        <span
                                                    class="hljs-comment">// –°–≤—è–∑—å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π</span><br>        <span
                                                    class="hljs-keyword">if</span> (!<span
                                                    class="hljs-title.function.invoke">filter_var</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;email, FILTER_VALIDATE_EMAIL)) {<br>            <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">redirect</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">back</span>()-&gt;<span
                                                    class="hljs-title.function.invoke">withErrors</span>([<span
                                                    class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'Invalid email'</span>]);<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –°–≤—è–∑—å —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π</span><br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">hasFile</span>(<span
                                                    class="hljs-string">'avatar'</span>)) {<br>            <span
                                                    class="hljs-variable">$path</span> = <span class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">file</span>(<span
                                                    class="hljs-string">'avatar'</span>)-&gt;<span
                                                    class="hljs-title.function.invoke">store</span>(<span
                                                    class="hljs-string">'avatars'</span>, <span
                                                    class="hljs-string">'s3'</span>);<br>            <span
                                                    class="hljs-variable">$user</span>-&gt;avatar = <span
                                                    class="hljs-variable">$path</span>;<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –°–≤—è–∑—å —Å –≤–Ω–µ—à–Ω–∏–º API</span><br>        <span
                                                    class="hljs-variable">$geocoder</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">GoogleGeocoder</span>();<br>        <span
                                                    class="hljs-variable">$coordinates</span> = <span
                                                    class="hljs-variable">$geocoder</span>-&gt;<span
                                                    class="hljs-title.function.invoke">geocode</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;address);<br>        <br>        <span
                                                    class="hljs-comment">// –°–≤—è–∑—å —Å email-—Å–µ—Ä–≤–∏—Å–æ–º</span><br>        <span
                                                    class="hljs-title.class">Mail</span>::<span
                                                    class="hljs-title.function.invoke">to</span>(<span
                                                    class="hljs-variable">$user</span>-&gt;email)-&gt;<span
                                                    class="hljs-title.function.invoke">send</span>(<span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">ProfileUpdatedMail</span>(<span
                                                    class="hljs-variable">$user</span>));<br>        <br>        <span
                                                    class="hljs-comment">// –°–≤—è–∑—å —Å –∫–µ—à–µ–º</span><br>        <span
                                                    class="hljs-title.class">Cache</span>::<span
                                                    class="hljs-title.function.invoke">forget</span>(<span
                                                    class="hljs-string">"user.<span
                                                    class="hljs-subst">{$user-&gt;id}</span>"</span>);<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-title.function.invoke">view</span>(<span
                                                    class="hljs-string">'profile.updated'</span>, <span
                                                    class="hljs-title.function.invoke">compact</span>(<span
                                                    class="hljs-string">'user'</span>)); <span class="hljs-comment">// –°–≤—è–∑—å —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º</span><br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><br>        <span
                                                    class="hljs-keyword">private</span> UserServiceInterface <span
                                                    class="hljs-variable">$userService</span><br>    </span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">updateProfile</span>(<span
                                                    class="hljs-params">UpdateProfileRequest <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$dto</span> = UpdateProfileDTO::<span
                                                    class="hljs-title.function.invoke">fromRequest</span>(<span
                                                    class="hljs-variable">$request</span>);<br>        <span
                                                    class="hljs-variable">$user</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;userService-&gt;<span
                                                    class="hljs-title.function.invoke">updateProfile</span>(<span
                                                    class="hljs-variable">$dto</span>);<br>        <span
                                                    class="hljs-keyword">return</span> <span class="hljs-title.class">UserResource</span>::<span
                                                    class="hljs-title.function.invoke">make</span>(<span
                                                    class="hljs-variable">$user</span>);<br>    }<br>}</span></pre>
                                            <h2 id="7234"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">High Cohesion</h2>
                                            <p id="c9cc"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Elements of a class should work together to achieve a common goal.</p>
                                            <p id="c1dc"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                Controllers contain disparate functionality.</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="6b89"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">login</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">updateProfile</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">uploadAvatar</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">sendEmail</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* –æ—Ç–ø—Ä–∞–≤–∫–∞ email */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">generateReport</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">exportData</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">calculateStatistics</span>() </span>{ <span
                                                    class="hljs-comment">/* —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */</span> }<br>    <span
                                                    class="hljs-comment">// –û–¥–∏–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–µ–ª–∞–µ—Ç –≤—Å–µ!</span><br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserRegistrationController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* —Ç–æ–ª—å–∫–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è */</span> }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserAuthenticationController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">login</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è */</span> }<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserProfileController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">show</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* –ø–æ–∫–∞–∑ –ø—Ä–æ—Ñ–∏–ª—è */</span> }<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">update</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{ <span
                                                    class="hljs-comment">/* –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è */</span> }<br>}</span></pre>
                                            <h2 id="8525"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Polymorphism</h2>
                                            <p id="fded"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Use polymorphic operations instead of type conditions.</p>
                                            <p id="cb58"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                Controllers contain multiple conditions instead of polymorphism.</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="e3dd"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">PaymentController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$paymentType</span> = <span
                                                    class="hljs-variable">$request</span>-&gt;payment_type;<br>        <br>        <span
                                                    class="hljs-keyword">if</span> (<span class="hljs-variable">$paymentType</span> === <span
                                                    class="hljs-string">'credit_card'</span>) {<br>            <span
                                                    class="hljs-variable">$gateway</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">CreditCardGateway</span>();<br>            <span
                                                    class="hljs-variable">$result</span> = <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">charge</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;amount, <span
                                                    class="hljs-variable">$request</span>-&gt;card_data);<br>        } <span
                                                    class="hljs-keyword">elseif</span> (<span class="hljs-variable">$paymentType</span> === <span
                                                    class="hljs-string">'paypal'</span>) {<br>            <span
                                                    class="hljs-variable">$gateway</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">PayPalGateway</span>();<br>            <span
                                                    class="hljs-variable">$result</span> = <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">pay</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;amount, <span
                                                    class="hljs-variable">$request</span>-&gt;paypal_token);<br>        } <span
                                                    class="hljs-keyword">elseif</span> (<span class="hljs-variable">$paymentType</span> === <span
                                                    class="hljs-string">'crypto'</span>) {<br>            <span
                                                    class="hljs-variable">$gateway</span> = <span class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">CryptoGateway</span>();<br>            <span
                                                    class="hljs-variable">$result</span> = <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">transfer</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;amount, <span
                                                    class="hljs-variable">$request</span>-&gt;wallet_address);<br>        }<br>        <br>        <span
                                                    class="hljs-comment">// –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –Ω—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</span><br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">interface</span> <span
                                                    class="hljs-title">PaymentGatewayInterface</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span
                                                    class="hljs-params">PaymentData <span
                                                    class="hljs-variable">$data</span></span>): <span
                                                    class="hljs-title">PaymentResult</span></span>;<br>}<br><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">PaymentController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$gateway</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;paymentGatewayFactory-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;payment_type);<br>        <span
                                                    class="hljs-variable">$data</span> = <span class="hljs-title.class">PaymentData</span>::<span
                                                    class="hljs-title.function.invoke">fromRequest</span>(<span
                                                    class="hljs-variable">$request</span>);<br>        <span
                                                    class="hljs-keyword">return</span> <span class="hljs-variable">$gateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">process</span>(<span
                                                    class="hljs-variable">$data</span>); <span class="hljs-comment">// –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –≤—ã–∑–æ–≤</span><br>    }<br>}</span></pre>
                                            <h2 id="fb79"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Pure Fabrication</h2>
                                            <p id="e13b"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Create artificial classes to achieve low coupling and high cohesion.</p>
                                            <p id="f684"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>: No
                                                middleware leads to direct coupling.</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="5e04"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-comment">// –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</span><br>        <span
                                                    class="hljs-variable">$user</span> = <span
                                                    class="hljs-keyword">new</span> <span
                                                    class="hljs-title.class">User</span>();<br>        <span
                                                    class="hljs-variable">$user</span>-&gt;email = <span
                                                    class="hljs-variable">$request</span>-&gt;email;<br>        <span
                                                    class="hljs-variable">$user</span>-&gt;<span
                                                    class="hljs-title.function.invoke">save</span>();<br>        <br>        <span
                                                    class="hljs-comment">// –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º API</span><br>        <span
                                                    class="hljs-variable">$emailService</span> = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">SendGridEmailService</span>();<br>        <span
                                                    class="hljs-variable">$emailService</span>-&gt;<span
                                                    class="hljs-title.function.invoke">sendWelcomeEmail</span>(<span
                                                    class="hljs-variable">$user</span>-&gt;email);<br>        <br>        <span
                                                    class="hljs-comment">// –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π</span><br>        <span
                                                    class="hljs-title.class">Storage</span>::<span
                                                    class="hljs-title.function.invoke">disk</span>(<span
                                                    class="hljs-string">'s3'</span>)-&gt;<span
                                                    class="hljs-title.function.invoke">put</span>(<span
                                                    class="hljs-string">"users/<span
                                                    class="hljs-subst">{$user-&gt;id}</span>/avatar"</span>, <span
                                                    class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">file</span>(<span
                                                    class="hljs-string">'avatar'</span>));<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">UserRegistrationService</span> </span>{ <span
                                                    class="hljs-comment">// –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏</span><br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><br>        <span
                                                    class="hljs-keyword">private</span> UserRepositoryInterface <span
                                                    class="hljs-variable">$userRepository</span>,<br>        <span
                                                    class="hljs-keyword">private</span> EmailServiceInterface <span
                                                    class="hljs-variable">$emailService</span>,<br>        <span
                                                    class="hljs-keyword">private</span> FileStorageInterface <span
                                                    class="hljs-variable">$fileStorage</span><br>    </span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span
                                                    class="hljs-params">RegisterUserDTO <span
                                                    class="hljs-variable">$dto</span></span>): <span class="hljs-title">User</span> </span>{<br>        <span
                                                    class="hljs-variable">$user</span> = <span
                                                    class="hljs-variable.language">$this</span>-&gt;userRepository-&gt;<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$dto</span>);<br>        <span
                                                    class="hljs-variable.language">$this</span>-&gt;emailService-&gt;<span
                                                    class="hljs-title.function.invoke">sendWelcomeEmail</span>(<span
                                                    class="hljs-variable">$user</span>);<br>        <br>        <span
                                                    class="hljs-keyword">if</span> (<span
                                                    class="hljs-variable">$dto</span>-&gt;avatar) {<br>            <span
                                                    class="hljs-variable.language">$this</span>-&gt;fileStorage-&gt;<span
                                                    class="hljs-title.function.invoke">storeAvatar</span>(<span
                                                    class="hljs-variable">$user</span>, <span
                                                    class="hljs-variable">$dto</span>-&gt;avatar);<br>        }<br>        <br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable">$user</span>;<br>    }<br>}</span></pre>
                                            <h2 id="80ed"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph="">Indirection</h2>
                                            <p id="7f7c"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Principle</strong>:
                                                Avoid direct communication between components by using intermediate
                                                objects.</p>
                                            <p id="dc33"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Violation</strong>:
                                                Controllers directly access models and external services.</p>
                                            <pre class="pg ph pi pj pk pl pm pn bp po bb bk"><span id="1cb4"
                                                                                                   class="pp ne fv pm b bg pq pr m ps pt"
                                                                                                   data-selectable-paragraph=""><span
                                                    class="hljs-comment">// ‚ùå Bad</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">OrderController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span
                                                    class="hljs-params">Request <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$order</span> = <span
                                                    class="hljs-title.class">Order</span>::<span
                                                    class="hljs-title.function.invoke">create</span>(<span
                                                    class="hljs-variable">$request</span>-&gt;<span
                                                    class="hljs-title.function.invoke">all</span>()); <span
                                                    class="hljs-comment">// –ü—Ä—è–º–∞—è —Å–≤—è–∑—å —Å –º–æ–¥–µ–ª—å—é</span><br>        <br>        <span
                                                    class="hljs-comment">// –ü—Ä—è–º–∞—è —Å–≤—è–∑—å —Å –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–æ–º</span><br>        <span
                                                    class="hljs-variable">$inventory</span> = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">InventoryService</span>();<br>        <span
                                                    class="hljs-variable">$inventory</span>-&gt;<span
                                                    class="hljs-title.function.invoke">reserveItems</span>(<span
                                                    class="hljs-variable">$order</span>-&gt;items);<br>        <br>        <span
                                                    class="hljs-comment">// –ü—Ä—è–º–∞—è —Å–≤—è–∑—å —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º —à–ª—é–∑–æ–º</span><br>        <span
                                                    class="hljs-variable">$paymentGateway</span> = <span
                                                    class="hljs-keyword">new</span> <span class="hljs-title.class">StripeGateway</span>();<br>        <span
                                                    class="hljs-variable">$paymentGateway</span>-&gt;<span
                                                    class="hljs-title.function.invoke">createPaymentIntent</span>(<span
                                                    class="hljs-variable">$order</span>-&gt;total);<br>    }<br>}<br><br><span
                                                    class="hljs-comment">// ‚úÖ Good</span><br><span
                                                    class="hljs-class"><span class="hljs-keyword">class</span> <span
                                                    class="hljs-title">OrderController</span> </span>{<br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span
                                                    class="hljs-params"><br>        <span
                                                    class="hljs-keyword">private</span> OrderServiceInterface <span
                                                    class="hljs-variable">$orderService</span> // –ù–µ–ø—Ä—è–º–∞—è —Å–≤—è–∑—å<br>    </span>) </span>{}<br>    <br>    <span
                                                    class="hljs-keyword">public</span> <span class="hljs-function"><span
                                                    class="hljs-keyword">function</span> <span
                                                    class="hljs-title">create</span>(<span class="hljs-params">CreateOrderRequest <span
                                                    class="hljs-variable">$request</span></span>) </span>{<br>        <span
                                                    class="hljs-variable">$dto</span> = CreateOrderDTO::<span
                                                    class="hljs-title.function.invoke">fromRequest</span>(<span
                                                    class="hljs-variable">$request</span>);<br>        <span
                                                    class="hljs-keyword">return</span> <span
                                                    class="hljs-variable.language">$this</span>-&gt;orderService-&gt;<span
                                                    class="hljs-title.function.invoke">createOrder</span>(<span
                                                    class="hljs-variable">$dto</span>); <span class="hljs-comment">// –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</span><br>    }<br>}</span></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="90e9"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">What does the
                                            community say?</h1>
                                            <h2 id="1791"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph=""><a class="ag og"
                                                                                href="https://www.goodreads.com/quotes/683522-parts-of-classic-mvc-don-t-really-make-sense-for"
                                                                                rel="noopener ugc nofollow"
                                                                                target="_blank"><strong class="am">Martin
                                                Fowler‚Äôs Perspective on MVC</strong></a></h2>
                                            <blockquote class="mb mc md"><p id="389b"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">‚ÄúParts of
                                                classic MVC don‚Äôt really make sense for rich clients these days.‚Äù ‚Üí He
                                                argues that classic MVC is outdated and unsuitable for modern client
                                                applications.</p></blockquote>
                                            <h2 id="dc99"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph=""><a class="ag og"
                                                                                href="https://radzserg.medium.com/how-mvc-frameworks-taught-us-bad-habits-part-2-how-monoliths-are-born-8e6cb54ebe9a"
                                                                                rel="noopener"><strong class="am">How
                                                MVC Frameworks Taught Us Bad Habits ‚Äî Part 2: How Monoliths are
                                                Born</strong></a></h2>
                                            <blockquote class="mb mc md"><p id="ec27"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">Project changes
                                                lead to bloated controllers and models. The business layer becomes
                                                ‚Äúgiant‚Äù, absorbing most of the application logic.</p></blockquote>
                                            <h2 id="f1fd"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph=""><a class="ag og" rel="noopener"
                                                                                href="/better-programming/a-journey-through-anti-patterns-and-code-smells-99ab3d8ccdb"
                                                                                data-discover="true">A Journey Through
                                                Anti-Patterns and Code Smells</a></h2>
                                            <blockquote class="mb mc md"><p id="b26e"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">‚ÄúWrite business
                                                logic in view templates‚Äù ‚Üí Business logic in views harms
                                                readability.</p>
                                                <p id="72e4"
                                                   class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                   data-selectable-paragraph="">‚ÄúSet view variables everywhere‚Äù ‚Üí
                                                    Controllers grow, and data assignments scatter chaotically, hurting
                                                    maintainability and testability.</p></blockquote>
                                            <h2 id="fbed"
                                                class="nd ne fv bf nf ng pu ni nj nk pv nm nn no pw nq nr ns px nu nv nw py ny nz oa bk"
                                                data-selectable-paragraph=""><a class="ag og"
                                                                                href="https://delatbabel.medium.com/mvc-is-dead-6620f86b617a"
                                                                                rel="noopener">MVC Is Dead</a></h2>
                                            <blockquote class="mb mc md"><p id="420e"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">‚ÄúNow I‚Äôm not
                                                convinced that MVC was ever a great idea for full-stack apps.‚Äù ‚Üí Almost
                                                everything happens in controllers (mvC), while models and views are
                                                minimized, reducing MVC to just ‚ÄúC.‚Äù</p></blockquote>
                                            <h2 id="ce55"
                                                class="nd ne fv bf nf ng pu ni nj nk pv nm nn no pw nq nr ns px nu nv nw py ny nz oa bk"
                                                data-selectable-paragraph=""><a class="ag og" rel="noopener"
                                                                                href="/%40papsavas/mvc-is-evil-nowadays-be14361c4336"
                                                                                data-discover="true">MVC is Evil,
                                                Nowadays</a></h2>
                                            <blockquote class="mb mc md"><p id="38f4"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">‚ÄúScalability is
                                                not feasible when large percentages of your additions constantly require
                                                modifications to your existing system.‚Äù ‚Üí MVC scales poorly because new
                                                features always require modifying existing components, violating
                                                responsibility segregation.</p></blockquote>
                                            <h2 id="1f7c"
                                                class="nd ne fv bf nf ng pu ni nj nk pv nm nn no pw nq nr ns px nu nv nw py ny nz oa bk"
                                                data-selectable-paragraph=""><a class="ag og"
                                                                                href="https://mvysny.github.io/mvc-mvp-mvvm-no-thanks/?utm_source=chatgpt.com"
                                                                                rel="noopener ugc nofollow"
                                                                                target="_blank">MVC/MVP/MVVM? No
                                                Thanks</a></h2>
                                            <blockquote class="mb mc md"><p id="a578"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">‚ÄúMVC: Ideal for
                                                small-scale projects only.‚Äù ‚Üí MV* patterns struggle in large systems ‚Äî
                                                they don‚Äôt scale well and demand migration to more complex
                                                alternatives.</p></blockquote>
                                            <h2 id="7124"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph=""><a class="ag og" rel="noopener"
                                                                                href="/%40kristofferolsson/argument-it-is-time-to-stop-making-mvc-applications-149855fc9cae"
                                                                                data-discover="true">Argument ‚Äî It‚Äôs
                                                Time to Stop Making MVC Applications</a></h2>
                                            <ul class="">
                                                <li id="d00a"
                                                    class="me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Controllers increasingly serve as
                                                    business logic injection points rather than UI handlers, turning
                                                    into ‚ÄúMVC Video Streaming‚Äù or ‚ÄúMVC Warehouse Management‚Äù apps.
                                                </li>
                                                <li id="25a3"
                                                    class="me mf fv mh b mi ok mk ml mm ol mo mp mq om ms mt mu on mw mx my oo na nb nc oh oi oj bk"
                                                    data-selectable-paragraph="">Business logic becomes tightly coupled
                                                    with controllers, defeating MVC‚Äôs original purpose.
                                                </li>
                                            </ul>
                                            <h2 id="aa75"
                                                class="op ne fv bf nf oq or os nj ot ou ov nn mq ow ox oy mu oz pa pb my pc pd pe pf bk"
                                                data-selectable-paragraph=""><a class="ag og"
                                                                                href="https://www.sitepoint.com/mvc-problem-solution/?utm_source=chatgpt.com"
                                                                                rel="noopener ugc nofollow"
                                                                                target="_blank">MVC ‚Äî a Problem or a
                                                Solution?</a></h2>
                                            <blockquote class="mb mc md"><p id="2235"
                                                                            class="me mf mg mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                            data-selectable-paragraph="">‚ÄúThen, someone
                                                noted that ‚Äòthin controller‚Äô is not always the best approach. They thus
                                                created the rule of fat controller, thin model‚Ä¶ we made poor MVC give
                                                birth to HMVC, MVA, MVP, MVVM‚Ä¶‚Äù ‚Üí The shift to fat controllers (and
                                                anemic models) led to convoluted code, spawning fragmented derivatives
                                                like MVVM, MVP, and HMVC.</p></blockquote>
                                        </div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="94ba"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">(02.07.25)
                                            Rethinking the ‚ÄúModel‚Äù in MVC as an Active Model</h1>
                                            <p id="f825"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph="">The main confusion arises because frameworks
                                                like Laravel or CodeIgniter commonly understand the ‚ÄúModel‚Äù as a
                                                specific implementation of the Active Record pattern. This is convenient
                                                for rapid development, but it distorts the original concept.</p>
                                            <p id="5c24"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">This leads to the same confusion as with
                                                ‚ÄúFacades‚Äù in Laravel. The framework calls a mechanism a ‚ÄúFacade‚Äù that is
                                                not an implementation of the classic Facade design pattern. As a result,
                                                many developers criticize the pattern itself based on its specific and
                                                distorted implementation.</p>
                                            <p id="e781"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">For comparison, in the Symfony ecosystem, no
                                                one calls an ORM entity (Entity) a ‚ÄúModel‚Äù. There, these concepts are
                                                more clearly separated, with distinct boundaries between the domain
                                                model and the database model.</p>
                                            <p id="f82e"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">Thus, the problems often attributed to MVC
                                                are actually problems of its specific, simplified implementations. But
                                                if we look at the model as a domain model, it is not just a set of
                                                classes reflecting database tables. It is a living, breathing system of
                                                abstractions that describes the knowledge, rules, and processes of a
                                                specific domain. It already includes Value Objects, Entities (Model),
                                                Aggregates, Services, Repositories, Events‚Ä¶</p></div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd">
                                            <hr class="custom-hr">
                                            <h1 id="bd93"
                                                                           class="nd ne fv bf nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa bk"
                                                                           data-selectable-paragraph="">Conclusion</h1>
                                            <p id="670d"
                                               class="pw-post-body-paragraph me mf fv mh b mi ob mk ml mm oc mo mp mq od ms mt mu oe mw mx my of na nb nc fo bk"
                                               data-selectable-paragraph="">Using MVC as a passive model is a convenient
                                                starting point for small and medium projects in its classical
                                                understanding. It‚Äôs simple, widely understood, and supported by most
                                                frameworks. However, as the product grows, MVC becomes an architectural
                                                bottleneck: it violates modularity principles, complicates testing, and
                                                leads to tight coupling between components.</p>
                                            <p id="a3db"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph=""><strong class="mh fw">Use MVC as an active
                                                model üòâ.</strong></p></div>
                                    </div>
                                </div>
                                <div class="ac cb lt lu lv lw" role="separator"><span
                                        class="lx bx bm ly lz ma"></span><span class="lx bx bm ly lz ma"></span><span
                                        class="lx bx bm ly lz"></span></div>
                                <div class="fo fp fq fr fs">
                                    <div class="ac cb">
                                        <div class="ci bh fa fb fc fd"><p id="dba4"
                                                                          class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                                                          data-selectable-paragraph="">P.S. We would be
                                            glad if you shared your experiences and advice in the comments.</p>
                                            <p id="a518"
                                               class="pw-post-body-paragraph me mf fv mh b mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc fo bk"
                                               data-selectable-paragraph="">That‚Äôs it üéâ, thanks for reading, don‚Äôt
                                                forget to follow me üòä and clap üëè the article.</p></div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </article>
        </div>
    </div>
</div>

<script src="../resources/load-header.js"></script>
</body>
<script src="../resources/back-to-top.js"></script>
<script src="../resources/navigation.js"></script>
</html>
