<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Map - Dykyi Roman | World Exploration</title>
    <meta name="description" content="Interactive travel map showing countries visited across Asia, Europe, and Africa with photos and travel stories by Dykyi Roman.">
    <meta name="author" content="Dykyi Roman">
    <!-- Open Graph -->
    <meta property="og:title" content="Travel Map - Dykyi Roman">
    <meta property="og:description" content="Interactive travel map showing countries visited across Asia, Europe, and Africa with photos and travel stories.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dykyi-roman.github.io/travel.html">
    <link rel="icon" href="icon.ico" type="image/x-icon">
    <link rel="canonical" href="https://dykyi-roman.github.io/travel.html">
    <link rel="stylesheet" type="text/css" href="resources/style.css">
    <link rel="stylesheet" href="resources/navigation.css">
    <link rel="stylesheet" href="resources/travel.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
    <!-- Globe.gl for 3D globe visualization -->
    <script src="https://unpkg.com/globe.gl"></script>
</head>
<body>

<div class="container">
    <!-- Include header from external file -->
    <div id="header-container"></div>
    <script>
        fetch('headers.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-container').innerHTML = data;
                // Call updateCountriesDisplay after header is loaded
                if (typeof updateCountriesDisplay === 'function') {
                    updateCountriesDisplay();
                }
            })
            .catch(error => console.error('Error loading header:', error));
    </script>

    <main id="main-content">
    <!--  Travel  -->
    <div id="travel-section" class="section">
        <h1><i class="fas fa-plane"></i> Travel</h1>

        <!-- Country Details Panel (expandable) -->
        <div id="country-details-panel" class="country-panel collapsed">
            <button class="panel-close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
            <div class="panel-content">
                <div class="panel-header">
                    <span class="panel-flag" id="panel-country-flag">üè≥Ô∏è</span>
                    <div class="panel-title">
                        <h3 id="panel-country-name">Country Name</h3>
                        <span id="panel-continent" class="panel-continent">Continent</span>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="panel-info-grid">
                        <div class="info-item">
                            <i class="fas fa-calendar"></i>
                            <span id="panel-visit-date">-</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-clock"></i>
                            <span id="panel-duration">-</span>
                        </div>
                    </div>
                    <div class="panel-cities" id="panel-highlights"></div>
                    <div class="panel-notes" id="panel-notes"></div>
                </div>
            </div>
        </div>

        <!-- Countries Statistics -->
        <div class="travel-stats">
            <div class="total-countries">
                <h4><i class="fas fa-globe"></i> Total countries visited: <span class="country-count" data-target="0">0</span></h4>
            </div>

            <!-- Search Container -->
            <div class="search-container">
                <label for="country-search" class="visually-hidden">Search country</label>
                <input type="text" id="country-search" placeholder="Search country..." aria-label="Search country">
                <i class="fas fa-search"></i>
            </div>

            <div class="countries-by-continent">
                <div class="continent-group asia">
                    <h5><i class="fas fa-mountain"></i> Asia</h5>
                    <div class="country-flags">
                    </div>
                </div>

                <div class="continent-group africa">
                    <h5><i class="fas fa-sun"></i> Africa</h5>
                    <div class="country-flags">
                    </div>
                </div>

                <div class="continent-group europe">
                    <h5><i class="fas fa-castle"></i> Europe</h5>
                    <div class="country-flags">
                    </div>
                </div>
            </div>

            <div class="wishlist-section">
                <h5 class="wishlist-title"><i class="fas fa-heart"></i> Wishlist Countries</h5>
                <div class="countries-by-continent">
                    <div class="continent-group">
                        <h5><i class="fas fa-globe"></i> Wishlist</h5>
                        <div class="country-flags">
                        </div>
                    </div>
                </div>
            </div>

            <div class="world-progress-section">
                <h5 class="progress-title"><i class="fas fa-chart-line"></i> World Exploration Progress</h5>
                <div class="world-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="world-progress-fill"></div>
                        <span class="progress-text" id="world-progress-text">0%</span>
                    </div>
                    <div class="progress-details">
                        <span id="visited-count">0</span> of <span id="total-world-countries">195</span> countries visited
                    </div>
                </div>
            </div>

            <!-- Detailed Statistics -->
            <div class="detailed-stats">
                <div class="stat-card stat-card-wide">
                    <div class="stat-main">
                        <i class="fas fa-calendar-alt"></i>
                        <span class="stat-value" data-target="0" id="stat-days">0</span>
                        <span class="stat-label">Days Traveling</span>
                    </div>
                    <div class="stat-breakdown" id="days-breakdown">
                        <div class="breakdown-item"><span class="breakdown-label">Asia:</span> <span id="days-asia">0</span></div>
                        <div class="breakdown-item"><span class="breakdown-label">Europe:</span> <span id="days-europe">0</span></div>
                        <div class="breakdown-item"><span class="breakdown-label">Africa:</span> <span id="days-africa">0</span></div>
                    </div>
                </div>
                <div class="stat-card stat-card-wide">
                    <div class="stat-main">
                        <i class="fas fa-city"></i>
                        <span class="stat-value" data-target="0" id="stat-cities">0</span>
                        <span class="stat-label">Cities Visited</span>
                    </div>
                    <div class="stat-breakdown" id="cities-breakdown">
                        <div class="breakdown-item"><span class="breakdown-label">Asia:</span> <span id="cities-asia">0</span></div>
                        <div class="breakdown-item"><span class="breakdown-label">Europe:</span> <span id="cities-europe">0</span></div>
                        <div class="breakdown-item"><span class="breakdown-label">Africa:</span> <span id="cities-africa">0</span></div>
                    </div>
                </div>
            </div>

            <!-- Country Analytics Section -->
            <details class="analytics-section collapsible-section">
                <summary><h3><i class="fas fa-chart-bar"></i> Country Analytics</h3></summary>
                <p class="analytics-disclaimer">* Approximate data based on open sources (World Bank, Global Peace Index, UNESCO, Numbeo)</p>
                <div class="analytics-categories" id="analytics-categories">
                    <!-- Generated by JavaScript -->
                </div>
            </details>

            <!-- Travel Timeline -->
            <details class="travel-timeline collapsible-section">
                <summary><h3><i class="fas fa-history"></i> Journey Timeline</h3></summary>
                <div class="timeline-container" id="timeline-container">
                    <!-- Timeline items will be generated by JavaScript -->
                </div>
            </details>
        </div>

        <!-- Journey Animation Controls -->
        <div class="journey-controls">
            <div class="journey-header">
                <h3 class="journey-title">
                    <i class="fas fa-route"></i> Journey Animation
                </h3>
                <div class="journey-buttons">
                    <button class="journey-btn" id="play-journey">
                        <i class="fas fa-play"></i> Play
                    </button>
                    <button class="journey-btn" id="pause-journey" disabled>
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button class="journey-btn" id="reset-journey">
                        <i class="fas fa-stop"></i> Reset
                    </button>
                </div>
            </div>

            <div class="journey-timeline">
                <div class="timeline-container">
                    <div class="timeline-progress" id="timeline-progress"></div>
                </div>
                <div class="timeline-labels">
                    <span id="start-year">2000</span>
                    <span id="end-year">2024</span>
                </div>
            </div>

            <div class="journey-info">
                <div class="current-country">
                    <span class="country-flag-large" id="current-flag">üåç</span>
                    <div>
                        <div id="current-country-name">Ready to start journey</div>
                        <div id="current-visit-date" style="font-size: 0.9em; opacity: 0.8;"></div>
                    </div>
                </div>
                <div class="journey-stats">
                    <div>Countries visited: <span id="journey-countries-count">0</span></div>
                    <div>Journey progress: <span id="journey-progress-percent">0%</span></div>
                </div>
            </div>

            <div class="speed-control">
                <i class="fas fa-tachometer-alt"></i>
                <span style="margin-left: 5px;">Speed:</span>
                <input type="range" class="speed-slider" id="speed-slider" min="0.5" max="3" step="0.5" value="1">
                <span id="speed-value">1x</span>
            </div>
        </div>

        <!-- View Toggle (2D Map / 3D Globe) -->
        <div class="view-toggle">
            <button class="view-toggle-btn active" data-view="map" title="2D Map View">
                <i class="fas fa-map"></i> 2D Map
            </button>
            <button class="view-toggle-btn" data-view="globe" title="3D Globe View">
                <i class="fas fa-globe-americas"></i> 3D Globe
            </button>
        </div>

        <div id="map-controls">
            <button class="map-filter-button active" data-filter="all">All</button>
            <button class="map-filter-button" data-filter="asia">Asia</button>
            <button class="map-filter-button" data-filter="africa">Africa</button>
            <button class="map-filter-button" data-filter="europe">Europe</button>
            <button class="map-filter-button" data-filter="wishlist">Wishlist</button>
        </div>

        <div id="map"></div>

        <!-- 3D Globe Container -->
        <div id="globe-container" style="display: none;">
            <div id="globe"></div>
            <div class="globe-controls">
                <button class="globe-control-btn" id="globe-zoom-in" title="Zoom In">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="globe-control-btn" id="globe-zoom-out" title="Zoom Out">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="globe-control-btn active" id="globe-auto-rotate" title="Toggle Auto-Rotate">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            <div class="globe-legend">
                <div class="legend-item">
                    <span class="legend-color" style="background: #4CAF50;"></span>
                    <span>Asia</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color" style="background: #2196F3;"></span>
                    <span>Europe</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color" style="background: #FFC107;"></span>
                    <span>Africa</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color" style="background: #E91E63;"></span>
                    <span>Wishlist</span>
                </div>
            </div>
        </div>

        <!-- Featured Asia Journey Video -->
        <div class="video-section">
            <h3 class="video-title"><i class="fab fa-youtube"></i> Our Big Asia Journey</h3>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/2cwceugbClk"
                        title="Our Big Asia Journey"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        referrerpolicy="strict-origin-when-cross-origin"
                        allowfullscreen></iframe>
            </div>
        </div>

    </div>
    </main>

</div>

<script src="resources/back-to-top.js"></script>
<script src="resources/navigation.js"></script>
<script src="resources/globe.js"></script>
<script src="resources/country-stats.js"></script>
<script src="resources/travel.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCboRvHNcHWuBFdV5ggCyMI-iz9W99k-Yg&callback=initMap&libraries=visualization" async defer></script>

</body>
</html>